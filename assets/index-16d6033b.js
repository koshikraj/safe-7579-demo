import{E as Bo,c as A,b as tn,d as L,g as Ut,s as uu,r as dc,e as hc,t as du,a as hu}from"./index-d778c42e.js";function fu(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const gu=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Bo,default:Bo},Symbol.toStringTag,{value:"Module"}));var Ii={},or={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.walletLogo=void 0;const pu=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};rn.walletLogo=pu;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.LINK_API_URL=void 0;nn.LINK_API_URL="https://www.walletlink.org";var S={},ur={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.errorValues=qe.standardErrorCodes=void 0;qe.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};qe.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var sn={},on={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=qe,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(h,f=r){if(h&&Number.isInteger(h)){const g=h.toString();if(d(t.errorValues,g))return t.errorValues[g].message;if(c(h))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return f}e.getMessageFromCode=n;function s(h){if(!Number.isInteger(h))return!1;const f=h.toString();return!!(t.errorValues[f]||c(h))}e.isValidCode=s;function i(h){var f;if(typeof h=="number")return h;if(o(h))return(f=h.code)!==null&&f!==void 0?f:h.errorCode}e.getErrorCode=i;function o(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}function a(h,{shouldIncludeStack:f=!1}={}){const g={};if(h&&typeof h=="object"&&!Array.isArray(h)&&d(h,"code")&&s(h.code)){const v=h;g.code=v.code,v.message&&typeof v.message=="string"?(g.message=v.message,d(v,"data")&&(g.data=v.data)):(g.message=n(g.code),g.data={originalError:l(h)})}else g.code=t.standardErrorCodes.rpc.internal,g.message=u(h,"message")?h.message:r,g.data={originalError:l(h)};return f&&(g.stack=u(h,"stack")?h.stack:void 0),g}e.serialize=a;function c(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function d(h,f){return Object.prototype.hasOwnProperty.call(h,f)}function u(h,f){return typeof h=="object"&&h!==null&&f in h&&typeof h[f]=="string"}})(on);Object.defineProperty(sn,"__esModule",{value:!0});sn.standardErrors=void 0;const ae=qe,fc=on;sn.standardErrors={rpc:{parse:e=>we(ae.standardErrorCodes.rpc.parse,e),invalidRequest:e=>we(ae.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>we(ae.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>we(ae.standardErrorCodes.rpc.methodNotFound,e),internal:e=>we(ae.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return we(t,e)},invalidInput:e=>we(ae.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>we(ae.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>we(ae.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>we(ae.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>we(ae.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>we(ae.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>wt(ae.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>wt(ae.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>wt(ae.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>wt(ae.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>wt(ae.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>wt(ae.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new mc(t,r,n)}}};function we(e,t){const[r,n]=gc(t);return new pc(e,r||(0,fc.getMessageFromCode)(e),n)}function wt(e,t){const[r,n]=gc(t);return new mc(e,r||(0,fc.getMessageFromCode)(e),n)}function gc(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}let pc=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},mc=class extends pc{constructor(t,r,n){if(!mu(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function mu(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}var an={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.isErrorResponse=void 0;function _u(e){return e.errorMessage!==void 0}Vt.isErrorResponse=_u;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.LIB_VERSION=void 0;Wt.LIB_VERSION="3.9.3";Object.defineProperty(an,"__esModule",{value:!0});an.serializeError=void 0;const bu=Vt,yu=Wt,vu=qe,wu=on;function Eu(e,t){const r=(0,wu.serialize)(Su(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",yu.LIB_VERSION),n.searchParams.set("code",r.code.toString());const s=Cu(r.data,t);return s&&n.searchParams.set("method",s),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}an.serializeError=Eu;function Su(e){return typeof e=="string"?{message:e,code:vu.standardErrorCodes.rpc.internal}:(0,bu.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function Cu(e,t){const r=e==null?void 0:e.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=qe;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const r=sn;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=an;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const s=on;Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return s.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}})})(ur);var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.ProviderType=ne.RegExpString=ne.IntNumber=ne.BigIntString=ne.AddressString=ne.HexString=ne.OpaqueType=void 0;function dr(){return e=>e}ne.OpaqueType=dr;ne.HexString=dr();ne.AddressString=dr();ne.BigIntString=dr();function ku(e){return Math.floor(e)}ne.IntNumber=ku;ne.RegExpString=dr();var Fo;(function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""})(Fo||(ne.ProviderType=Fo={}));var Ru=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S,"__esModule",{value:!0});S.isMobileWeb=S.getLocation=S.isInIFrame=S.createQrUrl=S.getFavicon=S.range=S.isBigNumber=S.ensureParsedJSONObject=S.ensureBN=S.ensureRegExpString=S.ensureIntNumber=S.ensureBuffer=S.ensureAddressString=S.ensureEvenLengthHexString=S.ensureHexString=S.isHexString=S.prepend0x=S.strip0x=S.has0xPrefix=S.hexStringFromIntNumber=S.intNumberFromHexString=S.bigIntStringFromBN=S.hexStringFromBuffer=S.hexStringToUint8Array=S.uint8ArrayToHex=S.randomBytesHex=void 0;const Ke=Ru(tn),_t=ur,ke=ne,_c=/^[0-9]*$/,bc=/^[a-f0-9]*$/;function Iu(e){return yc(crypto.getRandomValues(new Uint8Array(e)))}S.randomBytesHex=Iu;function yc(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}S.uint8ArrayToHex=yc;function Au(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}S.hexStringToUint8Array=Au;function Nu(e,t=!1){const r=e.toString("hex");return(0,ke.HexString)(t?`0x${r}`:r)}S.hexStringFromBuffer=Nu;function Mu(e){return(0,ke.BigIntString)(e.toString(10))}S.bigIntStringFromBN=Mu;function Tu(e){return(0,ke.IntNumber)(new Ke.default(fr(e,!1),16).toNumber())}S.intNumberFromHexString=Tu;function Lu(e){return(0,ke.HexString)(`0x${new Ke.default(e).toString(16)}`)}S.hexStringFromIntNumber=Lu;function Ai(e){return e.startsWith("0x")||e.startsWith("0X")}S.has0xPrefix=Ai;function cn(e){return Ai(e)?e.slice(2):e}S.strip0x=cn;function vc(e){return Ai(e)?`0x${e.slice(2)}`:`0x${e}`}S.prepend0x=vc;function hr(e){if(typeof e!="string")return!1;const t=cn(e).toLowerCase();return bc.test(t)}S.isHexString=hr;function wc(e,t=!1){if(typeof e=="string"){const r=cn(e).toLowerCase();if(bc.test(r))return(0,ke.HexString)(t?`0x${r}`:r)}throw _t.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}S.ensureHexString=wc;function fr(e,t=!1){let r=wc(e,!1);return r.length%2===1&&(r=(0,ke.HexString)(`0${r}`)),t?(0,ke.HexString)(`0x${r}`):r}S.ensureEvenLengthHexString=fr;function $u(e){if(typeof e=="string"){const t=cn(e).toLowerCase();if(hr(t)&&t.length===40)return(0,ke.AddressString)(vc(t))}throw _t.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}S.ensureAddressString=$u;function Pu(e){if(L.Buffer.isBuffer(e))return e;if(typeof e=="string"){if(hr(e)){const t=fr(e,!1);return L.Buffer.from(t,"hex")}return L.Buffer.from(e,"utf8")}throw _t.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}S.ensureBuffer=Pu;function Ec(e){if(typeof e=="number"&&Number.isInteger(e))return(0,ke.IntNumber)(e);if(typeof e=="string"){if(_c.test(e))return(0,ke.IntNumber)(Number(e));if(hr(e))return(0,ke.IntNumber)(new Ke.default(fr(e,!1),16).toNumber())}throw _t.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}S.ensureIntNumber=Ec;function Ou(e){if(e instanceof RegExp)return(0,ke.RegExpString)(e.toString());throw _t.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}S.ensureRegExpString=Ou;function xu(e){if(e!==null&&(Ke.default.isBN(e)||Sc(e)))return new Ke.default(e.toString(10),10);if(typeof e=="number")return new Ke.default(Ec(e));if(typeof e=="string"){if(_c.test(e))return new Ke.default(e,10);if(hr(e))return new Ke.default(fr(e,!1),16)}throw _t.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}S.ensureBN=xu;function Bu(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw _t.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}S.ensureParsedJSONObject=Bu;function Sc(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}S.isBigNumber=Sc;function Fu(e,t){return Array.from({length:t-e},(r,n)=>e+n)}S.range=Fu;function ju(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}S.getFavicon=ju;function Du(e,t,r,n,s,i){const o=n?"parent-id":"id",a=new URLSearchParams({[o]:e,secret:t,server:r,v:s,chainId:i.toString()}).toString();return`${r}/#/link?${a}`}S.createQrUrl=Du;function Cc(){try{return window.frameElement!==null}catch{return!1}}S.isInIFrame=Cc;function Hu(){try{return Cc()&&window.top?window.top.location:window.location}catch{return window.location}}S.getLocation=Hu;function Uu(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window==null?void 0:window.navigator)===null||e===void 0?void 0:e.userAgent)}S.isMobileWeb=Uu;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.ScopedLocalStorage=void 0;class Vu{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);typeof s=="string"&&s.startsWith(t)&&r.push(s)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}}ln.ScopedLocalStorage=Vu;var Ot={};const Wu=Ut(gu);var gr={},pr={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.EVENTS=void 0;zt.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.RelayAbstract=Ce.APP_VERSION_KEY=Ce.LOCAL_STORAGE_ADDRESSES_KEY=Ce.WALLET_USER_NAME_KEY=void 0;const jo=ur;Ce.WALLET_USER_NAME_KEY="walletUsername";Ce.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ce.APP_VERSION_KEY="AppVersion";class zu{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw jo.standardErrors.rpc.parse({});const s=n,{error:i}=s;if(i)throw(0,jo.serializeError)(i,t.method);return s})}}Ce.RelayAbstract=zu;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.Session=void 0;const Do=uu,Ho=S,Uo="session:id",Vo="session:secret",Wo="session:linked";class Ni{constructor(t,r,n,s){this._storage=t,this._id=r||(0,Ho.randomBytesHex)(16),this._secret=n||(0,Ho.randomBytesHex)(32),this._key=new Do.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!s}static load(t){const r=t.getItem(Uo),n=t.getItem(Wo),s=t.getItem(Vo);return r&&s?new Ni(t,r,s,n==="1"):null}static hash(t){return new Do.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(Uo,this._id),this._storage.setItem(Vo,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Wo,this._linked?"1":"0")}}qt.Session=Ni;var un={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.Cipher=void 0;const $r=S;class qu{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.importKey("raw",(0,$r.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},s,i.encode(t)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),d=new Uint8Array(c),u=new Uint8Array(l),h=new Uint8Array([...n,...d,...u]);return(0,$r.uint8ArrayToHex)(h)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,s)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,$r.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,$r.hexStringToUint8Array)(t),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),d=new Uint8Array([...l,...c]),u={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(u,i,d),f=new TextDecoder;n(f.decode(h))}catch(h){s(h)}})()})}}dn.Cipher=qu;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.WalletLinkHTTP=void 0;class Ju{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const s=`${r}:${n}`;this.auth=`Basic ${btoa(s)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:s}=await r.json();if(s)throw new Error(`Check unseen events failed: ${s}`);const i=(t=n==null?void 0:n.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(i),i}throw new Error(`Check unseen events failed: ${r.status}`)}}hn.WalletLinkHTTP=Ju;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.WalletLinkWebSocket=xt.ConnectionState=void 0;var Nt;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(Nt||(xt.ConnectionState=Nt={}));class Gu{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let s;try{this.webSocket=s=new this.WebSocketClass(this.url)}catch(i){r(i);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Nt.CONNECTING),s.onclose=i=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${i.code}: ${i.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Nt.DISCONNECTED)},s.onopen=i=>{var o;t(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Nt.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},s.onmessage=i=>{var o,a;if(i.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(i.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,Nt.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}xt.WalletLinkWebSocket=Gu;Object.defineProperty(un,"__esModule",{value:!0});un.WalletLinkConnection=void 0;const Et=ne,Zu=dn,Le=zt,zo=Ce,St=qt,Qu=hn,Pr=xt,qo=1e4,Ku=6e4;class Xu{constructor({session:t,linkAPIUrl:r,listener:n,diagnostic:s,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Et.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",l=>a.JsonRpcUrl&&this.handleChainUpdated(l,a.JsonRpcUrl)]]).forEach((l,d)=>{const u=a[d];u!==void 0&&l(u)})},this.handleDestroyed=a=>{var c,l;a==="1"&&((c=this.listener)===null||c===void 0||c.resetAndReload(),(l=this.diagnostic)===null||l===void 0||l.log(Le.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:St.Session.hash(this.session.id)}))},this.handleAccountUpdated=async a=>{var c,l;try{const d=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.accountUpdated(d)}catch{(l=this.diagnostic)===null||l===void 0||l.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(a,c)=>{var l,d;try{const u=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.metadataUpdated(a,u)}catch{(d=this.diagnostic)===null||d===void 0||d.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:a})}},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(zo.WALLET_USER_NAME_KEY,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(zo.APP_VERSION_KEY,a)},this.handleChainUpdated=async(a,c)=>{var l,d;try{const u=await this.cipher.decrypt(a),h=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.chainUpdated(u,h)}catch{(d=this.diagnostic)===null||d===void 0||d.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=t,this.cipher=new Zu.Cipher(t.secret),this.diagnostic=s,this.listener=n;const o=new Pr.WalletLinkWebSocket(`${r}/rpc`,i);o.setConnectionStateListener(async a=>{var c;(c=this.diagnostic)===null||c===void 0||c.log(Le.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:St.Session.hash(t.id)});let l=!1;switch(a){case Pr.ConnectionState.DISCONNECTED:if(!this.destroyed){const d=async()=>{await new Promise(u=>setTimeout(u,5e3)),this.destroyed||o.connect().catch(()=>{d()})};d()}break;case Pr.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),l=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},qo),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Pr.ConnectionState.CONNECTING:break}this.connected!==l&&(this.connected=l)}),o.setIncomingDataListener(a=>{var c,l,d;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const u=a.type==="IsLinkedOK"?a.linked:void 0;(c=this.diagnostic)===null||c===void 0||c.log(Le.EVENTS.LINKED,{sessionIdHash:St.Session.hash(t.id),linked:u,type:a.type,onlineGuests:a.onlineGuests}),this.linked=u||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(l=this.diagnostic)===null||l===void 0||l.log(Le.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:St.Session.hash(t.id),metadata_keys:a&&a.metadata?Object.keys(a.metadata):void 0}),this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((d=this.requestResolutions.get(a.id))===null||d===void 0||d(a))}),this.ws=o,this.http=new Qu.WalletLinkHTTP(r,t.id,t.key)}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(Le.EVENTS.STARTED_CONNECTING,{sessionIdHash:St.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var t;this.destroyed=!0,this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(Le.EVENTS.DISCONNECTED,{sessionIdHash:St.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r,n;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(t)}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r,n;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{const s=await this.cipher.decrypt(t.data),i=JSON.parse(s);if(i.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(i)}catch{(n=this.diagnostic)===null||n===void 0||n.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,Et.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const s=await this.makeRequest(n);if(s.type==="Fail")throw new Error(s.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:(0,Et.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:s,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(i);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>qo*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=Ku){const n=t.id;this.sendData(t);let s;return Promise.race([new Promise((i,o)=>{s=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r)}),new Promise(i=>{this.requestResolutions.set(n,o=>{clearTimeout(s),i(o),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,Et.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){const t={type:"IsLinked",id:(0,Et.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,Et.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}un.WalletLinkConnection=Xu;var mr={},_r={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.default=(()=>'@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')();var Yu=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_r,"__esModule",{value:!0});_r.injectCssReset=void 0;const ed=Yu(Mi);function td(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(ed.default)),document.documentElement.appendChild(e)}_r.injectCssReset=td;var fn={},br,J,kc,Rc,it,Jo,Ic,gi,Ti,pi,mi,Ac,ar={},Nc=[],rd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,gn=Array.isArray;function ze(e,t){for(var r in t)e[r]=t[r];return e}function Mc(e){var t=e.parentNode;t&&t.removeChild(e)}function _i(e,t,r){var n,s,i,o={};for(i in t)i=="key"?n=t[i]:i=="ref"?s=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?br.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)o[i]===void 0&&(o[i]=e.defaultProps[i]);return rr(e,o,n,s,null)}function rr(e,t,r,n,s){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++kc,__i:-1,__u:0};return s==null&&J.vnode!=null&&J.vnode(i),i}function nd(){return{current:null}}function yr(e){return e.children}function nr(e,t){this.props=e,this.context=t}function ft(e,t){if(t==null)return e.__?ft(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?ft(e):null}function Tc(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Tc(e)}}function bi(e){(!e.__d&&(e.__d=!0)&&it.push(e)&&!Qr.__r++||Jo!==J.debounceRendering)&&((Jo=J.debounceRendering)||Ic)(Qr)}function Qr(){var e,t,r,n,s,i,o,a;for(it.sort(gi);e=it.shift();)e.__d&&(t=it.length,n=void 0,i=(s=(r=e).__v).__e,o=[],a=[],r.__P&&((n=ze({},s)).__v=s.__v+1,J.vnode&&J.vnode(n),Li(r.__P,n,s,r.__n,r.__P.ownerSVGElement!==void 0,32&s.__u?[i]:null,o,i??ft(s),!!(32&s.__u),a),n.__v=s.__v,n.__.__k[n.__i]=n,Oc(o,n,a),n.__e!=i&&Tc(n)),it.length>t&&it.sort(gi));Qr.__r=0}function Lc(e,t,r,n,s,i,o,a,c,l,d){var u,h,f,g,v,m=n&&n.__k||Nc,b=t.length;for(r.__d=c,sd(r,t,m),c=r.__d,u=0;u<b;u++)(f=r.__k[u])!=null&&typeof f!="boolean"&&typeof f!="function"&&(h=f.__i===-1?ar:m[f.__i]||ar,f.__i=u,Li(e,f,h,s,i,o,a,c,l,d),g=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&$i(h.ref,null,f),d.push(f.ref,f.__c||g,f)),v==null&&g!=null&&(v=g),65536&f.__u||h.__k===f.__k?(c&&!c.isConnected&&(c=ft(h)),c=$c(f,c,e)):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:g&&(c=g.nextSibling),f.__d=void 0,f.__u&=-196609);r.__d=c,r.__e=v}function sd(e,t,r){var n,s,i,o,a,c=t.length,l=r.length,d=l,u=0;for(e.__k=[],n=0;n<c;n++)o=n+u,(s=e.__k[n]=(s=t[n])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?rr(null,s,null,null,null):gn(s)?rr(yr,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?rr(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=id(s,r,o,d),s.__i=a,i=null,a!==-1&&(d--,(i=r[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&u--,typeof s.type!="function"&&(s.__u|=65536)):a!==o&&(a===o+1?u++:a>o?d>c-o?u+=a-o:u--:a<o?a==o-1&&(u=a-o):u=0,a!==n+u&&(s.__u|=65536))):(i=r[o])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=ft(i)),yi(i,i,!1),r[o]=null,d--);if(d)for(n=0;n<l;n++)(i=r[n])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=ft(i)),yi(i,i))}function $c(e,t,r){var n,s;if(typeof e.type=="function"){for(n=e.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=e,t=$c(n[s],t,r));return t}e.__e!=t&&(r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Pc(e,t){return t=t||[],e==null||typeof e=="boolean"||(gn(e)?e.some(function(r){Pc(r,t)}):t.push(e)),t}function id(e,t,r,n){var s=e.key,i=e.type,o=r-1,a=r+1,c=t[r];if(c===null||c&&s==c.key&&i===c.type&&!(131072&c.__u))return r;if(n>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((c=t[o])&&!(131072&c.__u)&&s==c.key&&i===c.type)return o;o--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&i===c.type)return a;a++}}return-1}function Go(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||rd.test(t)?r:r+"px"}function Or(e,t,r,n,s){var i;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||Go(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||Go(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n?r.u=n.u:(r.u=Ti,e.addEventListener(t,i?mi:pi,i)):e.removeEventListener(t,i?mi:pi,i);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,r))}}function Zo(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Ti++;else if(t.t<r.u)return;return r(J.event?J.event(t):t)}}}function Li(e,t,r,n,s,i,o,a,c,l){var d,u,h,f,g,v,m,b,p,_,$,w,N,U,G,V=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),i=[a=t.__e=r.__e]),(d=J.__b)&&d(t);e:if(typeof V=="function")try{if(b=t.props,p=(d=V.contextType)&&n[d.__c],_=d?p?p.props.value:d.__:n,r.__c?m=(u=t.__c=r.__c).__=u.__E:("prototype"in V&&V.prototype.render?t.__c=u=new V(b,_):(t.__c=u=new nr(b,_),u.constructor=V,u.render=ad),p&&p.sub(u),u.props=b,u.state||(u.state={}),u.context=_,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),V.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ze({},u.__s)),ze(u.__s,V.getDerivedStateFromProps(b,u.__s))),f=u.props,g=u.state,u.__v=t,h)V.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(V.getDerivedStateFromProps==null&&b!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(b,_),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(b,u.__s,_)===!1||t.__v===r.__v)){for(t.__v!==r.__v&&(u.props=b,u.state=u.__s,u.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(z){z&&(z.__=t)}),$=0;$<u._sb.length;$++)u.__h.push(u._sb[$]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(b,u.__s,_),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,g,v)})}if(u.context=_,u.props=b,u.__P=e,u.__e=!1,w=J.__r,N=0,"prototype"in V&&V.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),U=0;U<u._sb.length;U++)u.__h.push(u._sb[U]);u._sb=[]}else do u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++N<25);u.state=u.__s,u.getChildContext!=null&&(n=ze(ze({},n),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(v=u.getSnapshotBeforeUpdate(f,g)),Lc(e,gn(G=d!=null&&d.type===yr&&d.key==null?d.props.children:d)?G:[G],t,r,n,s,i,o,a,c,l),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),m&&(u.__E=u.__=null)}catch(z){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=r.__e,t.__k=r.__k),J.__e(z,t,r)}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=od(r.__e,t,r,n,s,i,o,c,l);(d=J.diffed)&&d(t)}function Oc(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)$i(r[n],r[++n],r[++n]);J.__c&&J.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(i){i.call(s)})}catch(i){J.__e(i,s.__v)}})}function od(e,t,r,n,s,i,o,a,c){var l,d,u,h,f,g,v,m=r.props,b=t.props,p=t.type;if(p==="svg"&&(s=!0),i!=null){for(l=0;l<i.length;l++)if((f=i[l])&&"setAttribute"in f==!!p&&(p?f.localName===p:f.nodeType===3)){e=f,i[l]=null;break}}if(e==null){if(p===null)return document.createTextNode(b);e=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,b.is&&b),i=null,a=!1}if(p===null)m===b||a&&e.data===b||(e.data=b);else{if(i=i&&br.call(e.childNodes),m=r.props||ar,!a&&i!=null)for(m={},l=0;l<e.attributes.length;l++)m[(f=e.attributes[l]).name]=f.value;for(l in m)if(f=m[l],l!="children"){if(l=="dangerouslySetInnerHTML")u=f;else if(l!=="key"&&!(l in b)){if(l=="value"&&"defaultValue"in b||l=="checked"&&"defaultChecked"in b)continue;Or(e,l,null,f,s)}}for(l in b)f=b[l],l=="children"?h=f:l=="dangerouslySetInnerHTML"?d=f:l=="value"?g=f:l=="checked"?v=f:l==="key"||a&&typeof f!="function"||m[l]===f||Or(e,l,f,m[l],s);if(d)a||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Lc(e,gn(h)?h:[h],t,r,n,s&&p!=="foreignObject",i,o,i?i[0]:r.__k&&ft(r,0),a,c),i!=null)for(l=i.length;l--;)i[l]!=null&&Mc(i[l]);a||(l="value",g!==void 0&&(g!==e[l]||p==="progress"&&!g||p==="option"&&g!==m[l])&&Or(e,l,g,m[l],!1),l="checked",v!==void 0&&v!==e[l]&&Or(e,l,v,m[l],!1))}return e}function $i(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){J.__e(n,r)}}function yi(e,t,r){var n,s;if(J.unmount&&J.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||$i(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){J.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&yi(n[s],t,r||typeof e.type!="function");r||e.__e==null||Mc(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function ad(e,t,r){return this.constructor(e,r)}function xc(e,t,r){var n,s,i,o;J.__&&J.__(e,t),s=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],o=[],Li(t,e=(!n&&r||t).__k=_i(yr,null,[e]),s||ar,ar,t.ownerSVGElement!==void 0,!n&&r?[r]:s?null:t.firstChild?br.call(t.childNodes):null,i,!n&&r?r:s?s.__e:t.firstChild,n,o),Oc(i,e,o)}function Bc(e,t){xc(e,t,Bc)}function cd(e,t,r){var n,s,i,o,a=ze({},e.props);for(i in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)i=="key"?n=t[i]:i=="ref"?s=t[i]:a[i]=t[i]===void 0&&o!==void 0?o[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?br.call(arguments,2):r),rr(e.type,a,n||e.key,s||e.ref,null)}function ld(e,t){var r={__c:t="__cC"+Ac++,__:e,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i;return this.getChildContext||(s=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,bi(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}br=Nc.slice,J={__e:function(e,t,r,n){for(var s,i,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(e)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,n||{}),o=s.__d),o)return s.__E=s}catch(a){e=a}throw e}},kc=0,Rc=function(e){return e!=null&&e.constructor==null},nr.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ze({},this.state),typeof e=="function"&&(e=e(ze({},r),this.props)),e&&ze(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),bi(this))},nr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),bi(this))},nr.prototype.render=yr,it=[],Ic=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gi=function(e,t){return e.__v.__b-t.__v.__b},Qr.__r=0,Ti=0,pi=Zo(!1),mi=Zo(!0),Ac=0;const ud=Object.freeze(Object.defineProperty({__proto__:null,Component:nr,Fragment:yr,cloneElement:cd,createContext:ld,createElement:_i,createRef:nd,h:_i,hydrate:Bc,get isValidElement(){return Rc},get options(){return J},render:xc,toChildArray:Pc},Symbol.toStringTag,{value:"Module"})),me=Ut(ud);var pn={};function Fc(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Fc(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Qo(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Fc(e))&&(n&&(n+=" "),n+=t);return n}const dd=Object.freeze(Object.defineProperty({__proto__:null,clsx:Qo,default:Qo},Symbol.toStringTag,{value:"Module"})),vr=Ut(dd);var Je,W,zs,Ko,Bt=0,jc=[],Jr=[],X=J,Xo=X.__b,Yo=X.__r,ea=X.diffed,ta=X.__c,ra=X.unmount,na=X.__;function bt(e,t){X.__h&&X.__h(W,e,Bt||t),Bt=0;var r=W.__H||(W.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:Jr}),r.__[e]}function Dc(e){return Bt=1,Hc(Vc,e)}function Hc(e,t,r){var n=bt(Je++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):Vc(void 0,t),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=W,!W.u)){var s=function(a,c,l){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(h){return!!h.__c});if(d.every(function(h){return!h.__N}))return!i||i.call(this,a,c,l);var u=!1;return d.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(u=!0)}}),!(!u&&n.__c.props===a)&&(!i||i.call(this,a,c,l))};W.u=!0;var i=W.shouldComponentUpdate,o=W.componentWillUpdate;W.componentWillUpdate=function(a,c,l){if(this.__e){var d=i;i=void 0,s(a,c,l),i=d}o&&o.call(this,a,c,l)},W.shouldComponentUpdate=s}return n.__N||n.__}function hd(e,t){var r=bt(Je++,3);!X.__s&&Oi(r.__H,t)&&(r.__=e,r.i=t,W.__H.__h.push(r))}function Uc(e,t){var r=bt(Je++,4);!X.__s&&Oi(r.__H,t)&&(r.__=e,r.i=t,W.__h.push(r))}function fd(e){return Bt=5,Pi(function(){return{current:e}},[])}function gd(e,t,r){Bt=6,Uc(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},r==null?r:r.concat(e))}function Pi(e,t){var r=bt(Je++,7);return Oi(r.__H,t)?(r.__V=e(),r.i=t,r.__h=e,r.__V):r.__}function pd(e,t){return Bt=8,Pi(function(){return e},t)}function md(e){var t=W.context[e.__c],r=bt(Je++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(W)),t.props.value):e.__}function _d(e,t){X.useDebugValue&&X.useDebugValue(t?t(e):e)}function bd(e){var t=bt(Je++,10),r=Dc();return t.__=e,W.componentDidCatch||(W.componentDidCatch=function(n,s){t.__&&t.__(n,s),r[1](n)}),[r[0],function(){r[1](void 0)}]}function yd(){var e=bt(Je++,11);if(!e.__){for(var t=W.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function vd(){for(var e;e=jc.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Gr),e.__H.__h.forEach(vi),e.__H.__h=[]}catch(t){e.__H.__h=[],X.__e(t,e.__v)}}X.__b=function(e){W=null,Xo&&Xo(e)},X.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),na&&na(e,t)},X.__r=function(e){Yo&&Yo(e),Je=0;var t=(W=e.__c).__H;t&&(zs===W?(t.__h=[],W.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Jr,r.__N=r.i=void 0})):(t.__h.forEach(Gr),t.__h.forEach(vi),t.__h=[],Je=0)),zs=W},X.diffed=function(e){ea&&ea(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(jc.push(t)!==1&&Ko===X.requestAnimationFrame||((Ko=X.requestAnimationFrame)||wd)(vd)),t.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Jr&&(r.__=r.__V),r.i=void 0,r.__V=Jr})),zs=W=null},X.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Gr),r.__h=r.__h.filter(function(n){return!n.__||vi(n)})}catch(n){t.some(function(s){s.__h&&(s.__h=[])}),t=[],X.__e(n,r.__v)}}),ta&&ta(e,t)},X.unmount=function(e){ra&&ra(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Gr(n)}catch(s){t=s}}),r.__H=void 0,t&&X.__e(t,r.__v))};var sa=typeof requestAnimationFrame=="function";function wd(e){var t,r=function(){clearTimeout(n),sa&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);sa&&(t=requestAnimationFrame(r))}function Gr(e){var t=W,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),W=t}function vi(e){var t=W;e.__c=e.__(),W=t}function Oi(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function Vc(e,t){return typeof t=="function"?t(e):t}const Ed=Object.freeze(Object.defineProperty({__proto__:null,useCallback:pd,useContext:md,useDebugValue:_d,useEffect:hd,useErrorBoundary:bd,useId:yd,useImperativeHandle:gd,useLayoutEffect:Uc,useMemo:Pi,useReducer:Hc,useRef:fd,useState:Dc},Symbol.toStringTag,{value:"Module"})),mn=Ut(Ed);var Ft={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.CloseIcon=void 0;const ia=me;function Sd(e){return(0,ia.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,ia.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}_n.CloseIcon=Sd;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.CoinbaseWalletRound=void 0;const xr=me;function Cd(e){return(0,xr.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,xr.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,xr.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,xr.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}bn.CoinbaseWalletRound=Cd;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.QRCodeIcon=void 0;const Kt=me;function kd(e){return(0,Kt.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,Kt.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,Kt.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,Kt.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,Kt.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}yn.QRCodeIcon=kd;var vn={};function Wc(e){this.mode=ye.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],s=this.data.charCodeAt(t);s>65536?(n[0]=240|(s&1835008)>>>18,n[1]=128|(s&258048)>>>12,n[2]=128|(s&4032)>>>6,n[3]=128|s&63):s>2048?(n[0]=224|(s&61440)>>>12,n[1]=128|(s&4032)>>>6,n[2]=128|s&63):s>128?(n[0]=192|(s&1984)>>>6,n[1]=128|s&63):n[0]=s,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Wc.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function Fe(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Fe.prototype={addData:function(e){var t=new Wc(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Fe.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=K.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var o=i*s,a=0;a<this.modules[i].length;a++){var c=a*s,l=this.modules[i][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+s,o),n.lineTo(c+s,o+s),n.lineTo(c,o+s),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=K.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)i==-2||i==2||o==-2||o==2||i==0&&o==0?this.modules[n+i][s+o]=!0:this.modules[n+i][s+o]=!1}},setupTypeNumber:function(e){for(var t=K.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=K.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;i<e.length&&(c=(e[i]>>>s&1)==1);var l=K.getMask(t,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Fe.PAD0=236;Fe.PAD1=17;Fe.createData=function(e,t,r){for(var n=Be.getRSBlocks(e,t),s=new zc,i=0;i<r.length;i++){var o=r[i];s.put(o.mode,4),s.put(o.getLength(),K.getLengthInBits(o.mode,e)),o.write(s)}for(var a=0,i=0;i<n.length;i++)a+=n[i].dataCount;if(s.getLengthInBits()>a*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+a*8+")");for(s.getLengthInBits()+4<=a*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=a*8||(s.put(Fe.PAD0,8),s.getLengthInBits()>=a*8));)s.put(Fe.PAD1,8);return Fe.createBytes(s,n)};Fe.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),o=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,l=t[a].totalCount-c;n=Math.max(n,c),s=Math.max(s,l),i[a]=new Array(c);for(var d=0;d<i[a].length;d++)i[a][d]=255&e.buffer[d+r];r+=c;var u=K.getErrorCorrectPolynomial(l),h=new Mt(i[a],u.getLength()-1),f=h.mod(u);o[a]=new Array(u.getLength()-1);for(var d=0;d<o[a].length;d++){var g=d+f.getLength()-o[a].length;o[a][d]=g>=0?f.get(g):0}}for(var v=0,d=0;d<t.length;d++)v+=t[d].totalCount;for(var m=new Array(v),b=0,d=0;d<n;d++)for(var a=0;a<t.length;a++)d<i[a].length&&(m[b++]=i[a][d]);for(var d=0;d<s;d++)for(var a=0;a<t.length;a++)d<o[a].length&&(m[b++]=o[a][d]);return m};var ye={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Xe={L:1,M:0,Q:3,H:2},Ze={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},K={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;K.getBCHDigit(t)-K.getBCHDigit(K.G15)>=0;)t^=K.G15<<K.getBCHDigit(t)-K.getBCHDigit(K.G15);return(e<<10|t)^K.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;K.getBCHDigit(t)-K.getBCHDigit(K.G18)>=0;)t^=K.G18<<K.getBCHDigit(t)-K.getBCHDigit(K.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return K.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Ze.PATTERN000:return(t+r)%2==0;case Ze.PATTERN001:return t%2==0;case Ze.PATTERN010:return r%3==0;case Ze.PATTERN011:return(t+r)%3==0;case Ze.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Ze.PATTERN101:return t*r%2+t*r%3==0;case Ze.PATTERN110:return(t*r%2+t*r%3)%2==0;case Ze.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Mt([1],0),r=0;r<e;r++)t=t.multiply(new Mt([1,oe.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case ye.MODE_NUMBER:return 10;case ye.MODE_ALPHA_NUM:return 9;case ye.MODE_8BIT_BYTE:return 8;case ye.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case ye.MODE_NUMBER:return 12;case ye.MODE_ALPHA_NUM:return 11;case ye.MODE_8BIT_BYTE:return 16;case ye.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case ye.MODE_NUMBER:return 14;case ye.MODE_ALPHA_NUM:return 13;case ye.MODE_8BIT_BYTE:return 16;case ye.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,o=e.isDark(n,s),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var c=-1;c<=1;c++)s+c<0||t<=s+c||a==0&&c==0||o==e.isDark(n+a,s+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var l=0;e.isDark(n,s)&&l++,e.isDark(n+1,s)&&l++,e.isDark(n,s+1)&&l++,e.isDark(n+1,s+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var d=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&d++;var u=Math.abs(100*d/t/t-50)/5;return r+=u*10,r}},oe={glog:function(e){if(e<1)throw new Error("glog("+e+")");return oe.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return oe.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ce=0;ce<8;ce++)oe.EXP_TABLE[ce]=1<<ce;for(var ce=8;ce<256;ce++)oe.EXP_TABLE[ce]=oe.EXP_TABLE[ce-4]^oe.EXP_TABLE[ce-5]^oe.EXP_TABLE[ce-6]^oe.EXP_TABLE[ce-8];for(var ce=0;ce<255;ce++)oe.LOG_TABLE[oe.EXP_TABLE[ce]]=ce;function Mt(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}Mt.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=oe.gexp(oe.glog(this.get(r))+oe.glog(e.get(n)));return new Mt(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=oe.glog(this.get(0))-oe.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=oe.gexp(oe.glog(e.get(n))+t);return new Mt(r,0).mod(e)}};function Be(e,t){this.totalCount=e,this.dataCount=t}Be.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Be.getRSBlocks=function(e,t){var r=Be.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=[],i=0;i<n;i++)for(var o=r[i*3+0],a=r[i*3+1],c=r[i*3+2],l=0;l<o;l++)s.push(new Be(a,c));return s};Be.getRsBlockTable=function(e,t){switch(t){case Xe.L:return Be.RS_BLOCK_TABLE[(e-1)*4+0];case Xe.M:return Be.RS_BLOCK_TABLE[(e-1)*4+1];case Xe.Q:return Be.RS_BLOCK_TABLE[(e-1)*4+2];case Xe.H:return Be.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function zc(){this.buffer=[],this.length=0}zc.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var qs=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function qc(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Xe.L;case"M":return Xe.M;case"Q":return Xe.Q;case"H":return Xe.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var d=s(c),u=1,h=0,f=0,g=qs.length;f<=g;f++){var v=qs[f];if(!v)throw new Error("Content too long: expected "+h+" but got "+d);switch(l){case"L":h=v[0];break;case"M":h=v[1];break;case"Q":h=v[2];break;case"H":h=v[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(d<=h)break;u++}if(u>qs.length)throw new Error("Content too long");return u}function s(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var i=this.options.content,o=n(i,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Fe(o,a),this.qrcode.addData(i),this.qrcode.make()}qc.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,s=n?"  ":"",i=n?`\r
`:"",o=t.width,a=t.height,c=r.length,l=o/(c+2*t.padding),d=a/(c+2*t.padding),u=typeof t.join<"u"?!!t.join:!1,h=typeof t.swap<"u"?!!t.swap:!1,f=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,g=typeof t.predefined<"u"?!!t.predefined:!1,v=g?s+'<defs><path id="qrmodule" d="M0 0 h'+d+" v"+l+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+i:"",m=s+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+i,b="",p="",_=0;_<c;_++)for(var $=0;$<c;$++){var w=r[$][_];if(w){var N=$*l+t.padding*l,U=_*d+t.padding*d;if(h){var G=N;N=U,U=G}if(u){var V=l+N,z=d+U;N=Number.isInteger(N)?Number(N):N.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),V=Number.isInteger(V)?Number(V):V.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),p+="M"+N+","+U+" V"+z+" H"+V+" V"+U+" H"+N+" Z "}else g?b+=s+'<use x="'+N.toString()+'" y="'+U.toString()+'" href="#qrmodule" />'+i:b+=s+'<rect x="'+N.toString()+'" y="'+U.toString()+'" width="'+l+'" height="'+d+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+i}}u&&(b=s+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+p+'" />');let he="";if(this.options.image!==void 0&&this.options.image.svg){const E=o*this.options.image.width/100,y=a*this.options.image.height/100,R=o/2-E/2,k=a/2-y/2;he+=`<svg x="${R}" y="${k}" width="${E}" height="${y}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,he+=this.options.image.svg+i,he+="</svg>"}var ee="";switch(e.container){case"svg":f&&(ee+='<?xml version="1.0" standalone="yes"?>'+i),ee+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+i,ee+=v+m+b,ee+=he,ee+="</svg>";break;case"svg-viewbox":f&&(ee+='<?xml version="1.0" standalone="yes"?>'+i),ee+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+i,ee+=v+m+b,ee+=he,ee+="</svg>";break;case"g":ee+='<g width="'+o+'" height="'+a+'">'+i,ee+=v+m+b,ee+=he,ee+="</g>";break;default:ee+=(v+m+b+he).replace(/^\s+/,"");break}return ee};var Rd=qc,Id=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vn,"__esModule",{value:!0});vn.QRCode=void 0;const Ad=me,oa=mn,Nd=Id(Rd),Md=e=>{const[t,r]=(0,oa.useState)("");return(0,oa.useEffect)(()=>{var n,s;const i=new Nd.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(s=e.height)!==null&&s!==void 0?s:256,padding:0,image:e.image}),o=L.Buffer.from(i.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,Ad.h)("img",{src:t,alt:"QR Code"}):null};vn.QRCode=Md;var wn={},xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.default=(()=>".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}")();var Td=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});wn.Spinner=void 0;const Br=me,Ld=Td(xi),$d=e=>{var t;const r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,Br.h)("div",{class:"-cbwsdk-spinner"},(0,Br.h)("style",null,Ld.default),(0,Br.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Br.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};wn.Spinner=$d;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}")();var Jc=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.CoinbaseWalletSteps=Ft.ConnectContent=void 0;const ht=Jc(vr),F=me,Pd=S,Od=Wt,xd=_n,Bd=bn,Fd=yn,jd=vn,Dd=wn,Hd=Jc(Bi),Js={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:Gc},Ud=e=>e==="light"?"#FFFFFF":"#0A0B0D";function Vd(e){const{theme:t}=e,r=(0,Pd.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=Js.steps;return(0,F.h)("div",{"data-testid":"connect-content",className:(0,ht.default)("-cbwsdk-connect-content",t)},(0,F.h)("style",null,Hd.default),(0,F.h)("div",{className:"-cbwsdk-connect-content-header"},(0,F.h)("h2",{className:(0,ht.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,F.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,F.h)(xd.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,F.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,F.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,F.h)(Wd,{title:Js.title,description:Js.description,theme:t})),(0,F.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,F.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,F.h)(jd.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,F.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Od.LIB_VERSION}),(0,F.h)("input",{type:"hidden",value:r})),(0,F.h)(n,{theme:t}),!e.isConnected&&(0,F.h)("div",{"data-testid":"connecting-spinner",className:(0,ht.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,F.h)(Dd.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,F.h)("p",null,"Connecting...")))))}Ft.ConnectContent=Vd;function Wd({title:e,description:t,theme:r}){return(0,F.h)("div",{className:(0,ht.default)("-cbwsdk-connect-item",r)},(0,F.h)("div",null,(0,F.h)(Bd.CoinbaseWalletRound,null)),(0,F.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,F.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,F.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function Gc({theme:e}){return(0,F.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,F.h)("li",{className:(0,ht.default)("-cbwsdk-wallet-steps-item",e)},(0,F.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,F.h)("li",{className:(0,ht.default)("-cbwsdk-wallet-steps-item",e)},(0,F.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,F.h)("span",null,"Tap ",(0,F.h)("strong",null,"Scan")," "),(0,F.h)("span",{className:(0,ht.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,F.h)(Fd.QRCodeIcon,{fill:Ud(e)})))))}Ft.CoinbaseWalletSteps=Gc;var En={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.ArrowLeftIcon=void 0;const aa=me;function zd(e){return(0,aa.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,aa.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Sn.ArrowLeftIcon=zd;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.LaptopIcon=void 0;const Gs=me;function qd(e){return(0,Gs.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,Gs.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Gs.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Cn.LaptopIcon=qd;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.SafeIcon=void 0;const ca=me;function Jd(e){return(0,ca.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,ca.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}kn.SafeIcon=Jd;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.default=(()=>".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}")();var Zc=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});En.TryExtensionContent=void 0;const tt=Zc(vr),re=me,Zs=mn,Gd=Sn,Zd=Cn,Qd=kn,Kd=Zc(Fi);function Xd({theme:e}){const[t,r]=(0,Zs.useState)(!1),n=(0,Zs.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),s=(0,Zs.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,re.h)("div",{class:(0,tt.default)("-cbwsdk-try-extension",e)},(0,re.h)("style",null,Kd.default),(0,re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,re.h)("h3",{class:(0,tt.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,re.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,re.h)("button",{class:(0,tt.default)("-cbwsdk-try-extension-cta",e),onClick:s},t?"Refresh":"Install"),(0,re.h)("div",null,!t&&(0,re.h)(Gd.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,re.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,re.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,re.h)("span",{class:(0,tt.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,re.h)(Zd.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,re.h)("div",{class:(0,tt.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,re.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,re.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,re.h)("span",{class:(0,tt.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,re.h)(Qd.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,re.h)("div",{class:(0,tt.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}En.TryExtensionContent=Xd;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}")();var Qc=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pn,"__esModule",{value:!0});pn.ConnectDialog=void 0;const Qs=Qc(vr),rt=me,Ks=mn,Yd=Ft,eh=En,th=Qc(ji),rh=e=>{const{isOpen:t,darkMode:r}=e,[n,s]=(0,Ks.useState)(!t),[i,o]=(0,Ks.useState)(!t);(0,Ks.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!t)},10)];return t?s(!1):c.push(window.setTimeout(()=>{s(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t]);const a=r?"dark":"light";return(0,rt.h)("div",{class:(0,Qs.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,rt.h)("style",null,th.default),(0,rt.h)("div",{class:(0,Qs.default)("-cbwsdk-connect-dialog-backdrop",a,i&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,rt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,rt.h)("div",{class:(0,Qs.default)("-cbwsdk-connect-dialog-box",i&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,rt.h)(Yd.ConnectContent,{theme:a,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,rt.h)(eh.TryExtensionContent,{theme:a}))))};pn.ConnectDialog=rh;Object.defineProperty(fn,"__esModule",{value:!0});fn.LinkFlow=void 0;const Xs=me,nh=pn;class sh{constructor(t){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render()}setConnected(t){this.connected!==t&&(this.connected=t,this.render())}setChainId(t){this.chainId!==t&&(this.chainId=t,this.render())}detach(){var t;this.root&&((0,Xs.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,Xs.render)((0,Xs.h)(nh.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}fn.LinkFlow=sh;var Di={},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.default=(()=>".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}")();(function(e){var t=A&&A.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(vr),n=me,s=mn,i=t(Hi),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const f=this.nextItemKey++;return this.items.set(f,h),this.render(),()=>{this.items.delete(f),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,f])=>(0,n.h)(e.SnackbarInstance,Object.assign({},f,{key:h}))))),this.root)}}e.Snackbar=c;const l=u=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,i.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},u.children));e.SnackbarContainer=l;const d=({autoExpand:u,message:h,menuItems:f})=>{const[g,v]=(0,s.useState)(!0),[m,b]=(0,s.useState)(u??!1);(0,s.useEffect)(()=>{const _=[window.setTimeout(()=>{v(!1)},1),window.setTimeout(()=>{b(!0)},1e4)];return()=>{_.forEach(window.clearTimeout)}});const p=()=>{b(!m)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",g&&"-cbwsdk-snackbar-instance-hidden",m&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:p},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,n.h)("div",{class:"-gear-container"},!m&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),f&&f.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},f.map((_,$)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",_.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:_.onClick,key:$},(0,n.h)("svg",{width:_.svgWidth,height:_.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":_.defaultFillRule,"clip-rule":_.defaultClipRule,d:_.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",_.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},_.info)))))};e.SnackbarInstance=d})(Di);Object.defineProperty(mr,"__esModule",{value:!0});mr.WalletLinkRelayUI=void 0;const ih=_r,oh=fn,ah=Di;class ch{constructor(t){this.standalone=null,this.attached=!1,this.snackbar=new ah.Snackbar({darkMode:t.darkMode}),this.linkFlow=new oh.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,ih.injectCssReset)()}setConnected(t){this.linkFlow.setConnected(t)}setChainId(t){this.linkFlow.setChainId(t)}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}mr.WalletLinkRelayUI=ch;Object.defineProperty(pr,"__esModule",{value:!0});pr.WalletLinkRelay=void 0;const Ct=ur,lh=ne,Q=S,nt=zt,la=Ce,Qe=qt,uh=un,st=Vt,dh=mr;class Ve extends la.RelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var a;this.isLinked=o;const c=this.storage.getItem(la.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,c){const l=c.split(" "),d=this.storage.getItem("IsStandaloneSigning")==="true";if(l[0]!==""&&!o&&this.session.linked&&!d){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(a=this.diagnostic)===null||a===void 0||a.log(nt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}},this.metadataUpdated=(o,a)=>{this.storage.setItem(o,a)},this.chainUpdated=(o,a)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:o,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(o,a))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),Ve.accountRequestCallbackIds.size>0&&(Array.from(Ve.accountRequestCallbackIds.values()).forEach(a=>{const c={type:"WEB3_RESPONSE",id:a,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},c),{id:a}))}),Ve.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:n,ui:s,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=s}subscribe(){const t=Qe.Session.load(this.storage)||new Qe.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,s=new uh.WalletLinkConnection({session:t,linkAPIUrl:r,diagnostic:n,listener:this}),{version:i,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:r,version:i,darkMode:o,session:t});return s.connect(),{session:t,ui:a,connection:s}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{var t,r;const n=this.ui.isStandalone();(t=this.diagnostic)===null||t===void 0||t.log(nt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=Qe.Session.load(this.storage);if((s==null?void 0:s.id)===this._session.id?this.storage.clear():s&&((r=this.diagnostic)===null||r===void 0||r.log(nt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Qe.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:i,ui:o,connection:a}=this.subscribe();this._session=i,this.connection=a,this.ui=o,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(nt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,s){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,Q.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:s||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,Q.hexStringFromBuffer)(t,!0),signature:(0,Q.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,Q.bigIntStringFromBN)(t.weiValue),data:(0,Q.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,Q.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,Q.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,Q.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,Q.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,Q.bigIntStringFromBN)(t.weiValue),data:(0,Q.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,Q.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,Q.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,Q.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,Q.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,Q.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getQRCodeUrl(){return(0,Q.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,Q.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),(0,st.isErrorResponse)(c))return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:s}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t,this.ui instanceof dh.WalletLinkRelayUI&&this.ui.setChainId(t)}publishWeb3RequestEvent(t,r){var n;const s={type:"WEB3_REQUEST",id:t,request:r},i=Qe.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(nt.EVENTS.WEB3_REQUEST,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?Qe.Session.hash(i.id):"",isSessionMismatched:((i==null?void 0:i.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",s,!0).then(o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(nt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?Qe.Session.hash(i.id):"",isSessionMismatched:((i==null?void 0:i.id)!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s.id,response:{method:r.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){var r;const{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(nt.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){Ve.accountRequestCallbackIds.forEach(s=>this.invokeCallback(Object.assign(Object.assign({},t),{id:s}))),Ve.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,s){var i;const o=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:(0,Ct.getMessageFromCode)(s);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:o,errorCode:s}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Q.randomBytesHex)(8),n=i=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,i)};return{promise:new Promise((i,o)=>{if(this.relayEventManager.callbacks.set(r,a=>{if(this.ui.hideRequestEthereumAccounts(),(0,st.isErrorResponse)(a))return o(new Error(a.errorMessage));i(a)}),this.ui.inlineAccountsResponse()){const a=c=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:c}})};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:a})}else{const a=Ct.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(a)})}Ve.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,t)}),cancel:n}}selectProvider(t){const r={method:"selectProvider",params:{providerOptions:t}},n=(0,Q.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},i=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,d=>{if((0,st.isErrorResponse)(d))return a(new Error(d.errorMessage));o(d)});const c=d=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:lh.ProviderType.Unselected}})},l=d=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:d}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:t})});return{cancel:s,promise:i}}watchAsset(t,r,n,s,i,o){const a={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:s,image:i},chainId:o}};let c=null;const l=(0,Q.randomBytesHex)(8),d=h=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}));const u=new Promise((h,f)=>{this.relayEventManager.callbacks.set(l,m=>{if(c==null||c(),(0,st.isErrorResponse)(m))return f(new Error(m.errorMessage));h(m)});const g=m=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!1}})},v=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:v,onCancel:g,type:t,address:r,symbol:n,decimals:s,image:i,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:d,promise:u}}addEthereumChain(t,r,n,s,i,o){const a={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:s,chainName:i,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,Q.randomBytesHex)(8),d=h=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,h),c==null||c()};return this.ui.inlineAddEthereumChain(t)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise((h,f)=>{this.relayEventManager.callbacks.set(l,m=>{if(c==null||c(),(0,st.isErrorResponse)(m))return f(new Error(m.errorMessage));h(m)});const g=m=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},v=m=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:m}}})};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:g,onApprove:v,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:d}}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},s=(0,Q.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,u=>{if((0,st.isErrorResponse)(u)&&u.errorCode)return c(Ct.standardErrors.provider.custom({code:u.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,st.isErrorResponse)(u))return c(new Error(u.errorMessage));a(u)});const l=u=>{var h;if(u){const f=(h=(0,Ct.getErrorCode)(u))!==null&&h!==void 0?h:Ct.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(s,"switchEthereumChain",u instanceof Error?u:Ct.standardErrors.provider.unsupportedChain(t),f)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},d=u=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:u}}})};this.ui.switchEthereumChain({onCancel:l,onApprove:d,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(s,n)}),cancel:i}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return Qe.Session.hash(this._session.id)}sendRequestStandalone(t,r){const n=i=>{this.handleErrorResponse(t,r.method,i)},s=i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:i})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:s,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:s});break;default:n();break}}}pr.WalletLinkRelay=Ve;Ve.accountRequestCallbackIds=new Set;var wr={},Rn={},Kc={};(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Di,e)})(Kc);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.default=(()=>".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}")();var Xc=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.RedirectDialog=void 0;const hh=Xc(vr),xe=me,fh=_r,gh=Kc,ph=Xc(Ui);class mh{constructor(){this.root=null}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,fh.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,xe.render)(null,this.root),t&&(0,xe.render)((0,xe.h)(_h,Object.assign({},t,{onDismiss:()=>{this.clear()}})),this.root))}}Rn.RedirectDialog=mh;const _h=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:s})=>{const i=r?"dark":"light";return(0,xe.h)(gh.SnackbarContainer,{darkMode:r},(0,xe.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,xe.h)("style",null,ph.default),(0,xe.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:s}),(0,xe.h)("div",{class:(0,hh.default)("-cbwsdk-redirect-dialog-box",i)},(0,xe.h)("p",null,e),(0,xe.h)("button",{onClick:n},t))))};Object.defineProperty(wr,"__esModule",{value:!0});wr.MobileRelayUI=void 0;const bh=Rn;class yh{constructor(t){this.attached=!1,this.darkMode=!1,this.redirectDialog=new bh.RedirectDialog,this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(t){}redirectToCoinbaseWallet(t){const r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),t&&r.searchParams.append("wl_url",t);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}wr.MobileRelayUI=yh;Object.defineProperty(gr,"__esModule",{value:!0});gr.MobileRelay=void 0;const vh=S,wh=pr,Eh=wr;class Sh extends wh.WalletLinkRelay{constructor(t){var r;super(t),this._enableMobileWalletLink=(r=t.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const t=(0,vh.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(t,r){if(super.publishWeb3RequestEvent(t,r),!(this._enableMobileWalletLink&&this.ui instanceof Eh.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(t){super.handleWeb3ResponseMessage(t)}connectAndSignIn(t){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:t.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:t.statement,resources:t.resources}})}}gr.MobileRelay=Sh;const{Transform:Ch}=dc;var kh=e=>class Yc extends Ch{constructor(r,n,s,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._hashBitLength=i,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(o){i=o}s(i)}_flush(r){let n=null;try{this.push(this.digest())}catch(s){n=s}r(n)}update(r,n){if(!L.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return L.Buffer.isBuffer(r)||(r=L.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Yc(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Rh}=dc;var Ih=e=>class el extends Rh{constructor(r,n,s,i){super(i),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._options=i,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(o){i=o}s(i)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!L.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return L.Buffer.isBuffer(r)||(r=L.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let s=this._state.squeeze(r);return n!==void 0&&(s=s.toString(n)),s}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new el(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Ah=kh,Nh=Ih;var Mh=function(e){const t=Ah(e),r=Nh(e);return function(n,s){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,s);case"keccak256":return new t(1088,512,null,256,s);case"keccak384":return new t(832,768,null,384,s);case"keccak512":return new t(576,1024,null,512,s);case"sha3-224":return new t(1152,448,6,224,s);case"sha3-256":return new t(1088,512,6,256,s);case"sha3-384":return new t(832,768,6,384,s);case"sha3-512":return new t(576,1024,6,512,s);case"shake128":return new r(1344,256,31,s);case"shake256":return new r(1088,512,31,s);default:throw new Error("Invald algorithm: "+n)}}},tl={};const ua=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];tl.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],i=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],u=e[9]^e[19]^e[29]^e[39]^e[49];let h=d^(s<<1|i>>>31),f=u^(i<<1|s>>>31);const g=e[0]^h,v=e[1]^f,m=e[10]^h,b=e[11]^f,p=e[20]^h,_=e[21]^f,$=e[30]^h,w=e[31]^f,N=e[40]^h,U=e[41]^f;h=r^(o<<1|a>>>31),f=n^(a<<1|o>>>31);const G=e[2]^h,V=e[3]^f,z=e[12]^h,he=e[13]^f,ee=e[22]^h,E=e[23]^f,y=e[32]^h,R=e[33]^f,k=e[42]^h,I=e[43]^f;h=s^(c<<1|l>>>31),f=i^(l<<1|c>>>31);const C=e[4]^h,T=e[5]^f,H=e[14]^h,O=e[15]^f,q=e[24]^h,ue=e[25]^f,Z=e[34]^h,Ge=e[35]^f,Gn=e[44]^h,mo=e[45]^f;h=o^(d<<1|u>>>31),f=a^(u<<1|d>>>31);const _o=e[6]^h,bo=e[7]^f,yo=e[16]^h,vo=e[17]^f,wo=e[26]^h,Eo=e[27]^f,So=e[36]^h,Co=e[37]^f,ko=e[46]^h,Ro=e[47]^f;h=c^(r<<1|n>>>31),f=l^(n<<1|r>>>31);const Io=e[8]^h,Ao=e[9]^f,No=e[18]^h,Mo=e[19]^f,To=e[28]^h,Lo=e[29]^f,$o=e[38]^h,Po=e[39]^f,Oo=e[48]^h,xo=e[49]^f,Zn=g,Qn=v,Kn=b<<4|m>>>28,Xn=m<<4|b>>>28,Yn=p<<3|_>>>29,es=_<<3|p>>>29,ts=w<<9|$>>>23,rs=$<<9|w>>>23,ns=N<<18|U>>>14,ss=U<<18|N>>>14,is=G<<1|V>>>31,os=V<<1|G>>>31,as=he<<12|z>>>20,cs=z<<12|he>>>20,ls=ee<<10|E>>>22,us=E<<10|ee>>>22,ds=R<<13|y>>>19,hs=y<<13|R>>>19,fs=k<<2|I>>>30,gs=I<<2|k>>>30,ps=T<<30|C>>>2,ms=C<<30|T>>>2,_s=H<<6|O>>>26,bs=O<<6|H>>>26,ys=ue<<11|q>>>21,vs=q<<11|ue>>>21,ws=Z<<15|Ge>>>17,Es=Ge<<15|Z>>>17,Ss=mo<<29|Gn>>>3,Cs=Gn<<29|mo>>>3,ks=_o<<28|bo>>>4,Rs=bo<<28|_o>>>4,Is=vo<<23|yo>>>9,As=yo<<23|vo>>>9,Ns=wo<<25|Eo>>>7,Ms=Eo<<25|wo>>>7,Ts=So<<21|Co>>>11,Ls=Co<<21|So>>>11,$s=Ro<<24|ko>>>8,Ps=ko<<24|Ro>>>8,Os=Io<<27|Ao>>>5,xs=Ao<<27|Io>>>5,Bs=No<<20|Mo>>>12,Fs=Mo<<20|No>>>12,js=Lo<<7|To>>>25,Ds=To<<7|Lo>>>25,Hs=$o<<8|Po>>>24,Us=Po<<8|$o>>>24,Vs=Oo<<14|xo>>>18,Ws=xo<<14|Oo>>>18;e[0]=Zn^~as&ys,e[1]=Qn^~cs&vs,e[10]=ks^~Bs&Yn,e[11]=Rs^~Fs&es,e[20]=is^~_s&Ns,e[21]=os^~bs&Ms,e[30]=Os^~Kn&ls,e[31]=xs^~Xn&us,e[40]=ps^~Is&js,e[41]=ms^~As&Ds,e[2]=as^~ys&Ts,e[3]=cs^~vs&Ls,e[12]=Bs^~Yn&ds,e[13]=Fs^~es&hs,e[22]=_s^~Ns&Hs,e[23]=bs^~Ms&Us,e[32]=Kn^~ls&ws,e[33]=Xn^~us&Es,e[42]=Is^~js&ts,e[43]=As^~Ds&rs,e[4]=ys^~Ts&Vs,e[5]=vs^~Ls&Ws,e[14]=Yn^~ds&Ss,e[15]=es^~hs&Cs,e[24]=Ns^~Hs&ns,e[25]=Ms^~Us&ss,e[34]=ls^~ws&$s,e[35]=us^~Es&Ps,e[44]=js^~ts&fs,e[45]=Ds^~rs&gs,e[6]=Ts^~Vs&Zn,e[7]=Ls^~Ws&Qn,e[16]=ds^~Ss&ks,e[17]=hs^~Cs&Rs,e[26]=Hs^~ns&is,e[27]=Us^~ss&os,e[36]=ws^~$s&Os,e[37]=Es^~Ps&xs,e[46]=ts^~fs&ps,e[47]=rs^~gs&ms,e[8]=Vs^~Zn&as,e[9]=Ws^~Qn&cs,e[18]=Ss^~ks&Bs,e[19]=Cs^~Rs&Fs,e[28]=ns^~is&_s,e[29]=ss^~os&bs,e[38]=$s^~Os&Kn,e[39]=Ps^~xs&Xn,e[48]=fs^~ps&Is,e[49]=gs^~ms&As,e[0]^=ua[t*2],e[1]^=ua[t*2+1]}};const Kr=tl;function Jt(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Jt.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};Jt.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Kr.p1600(this.state),this.count=0)};Jt.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&Kr.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Kr.p1600(this.state),this.count=0,this.squeezing=!0};Jt.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=L.Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Kr.p1600(this.state),this.count=0);return t};Jt.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var Th=Jt,Lh=Mh(Th);const $h=Lh,Ph=tn;function rl(e){return L.Buffer.allocUnsafe(e).fill(0)}function nl(e,t,r){const n=rl(t);return e=In(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function Oh(e,t){return nl(e,t,!0)}function In(e){if(!L.Buffer.isBuffer(e))if(Array.isArray(e))e=L.Buffer.from(e);else if(typeof e=="string")sl(e)?e=L.Buffer.from(Fh(il(e)),"hex"):e=L.Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=L.Buffer.allocUnsafe(0);else if(Ph.isBN(e))e=e.toArrayLike(L.Buffer);else if(e.toArray)e=L.Buffer.from(e.toArray());else throw new Error("invalid type");return e}function xh(e){return e=In(e),"0x"+e.toString("hex")}function Bh(e,t){return e=In(e),t||(t=256),$h("keccak"+t).update(e).digest()}function Fh(e){return e.length%2?"0"+e:e}function sl(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function il(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var ol={zeros:rl,setLength:nl,setLengthRight:Oh,isHexString:sl,stripHexPrefix:il,toBuffer:In,bufferToHex:xh,keccak:Bh};const gt=ol,lt=tn;function al(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Tt(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function da(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function cl(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function ot(e){var t=typeof e;if(t==="string")return gt.isHexString(e)?new lt(gt.stripHexPrefix(e),16):new lt(e,10);if(t==="number")return new lt(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Oe(e,t){var r,n,s,i;if(e==="address")return Oe("uint160",ot(t));if(e==="bool")return Oe("uint8",t?1:0);if(e==="string")return Oe("bytes",new L.Buffer(t,"utf8"));if(Dh(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=cl(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);s=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(i in t)s.push(Oe(e,t[i]));if(r==="dynamic"){var o=Oe("uint256",t.length);s.unshift(o)}return L.Buffer.concat(s)}else{if(e==="bytes")return t=new L.Buffer(t),s=L.Buffer.concat([Oe("uint256",t.length),t]),t.length%32!==0&&(s=L.Buffer.concat([s,gt.zeros(32-t.length%32)])),s;if(e.startsWith("bytes")){if(r=Tt(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return gt.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=Tt(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ot(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(L.Buffer,"be",32)}else if(e.startsWith("int")){if(r=Tt(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ot(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(L.Buffer,"be",32)}else if(e.startsWith("ufixed")){if(r=da(e),n=ot(t),n<0)throw new Error("Supplied ufixed is negative");return Oe("uint256",n.mul(new lt(2).pow(new lt(r[1]))))}else if(e.startsWith("fixed"))return r=da(e),Oe("int256",ot(t).mul(new lt(2).pow(new lt(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function jh(e){return e==="string"||e==="bytes"||cl(e)==="dynamic"}function Dh(e){return e.lastIndexOf("]")===e.length-1}function Hh(e,t){var r=[],n=[],s=32*e.length;for(var i in e){var o=al(e[i]),a=t[i],c=Oe(o,a);jh(o)?(r.push(Oe("uint256",s)),n.push(c),s+=c.length):r.push(c)}return L.Buffer.concat(r.concat(n))}function ll(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,s=[],i=0;i<e.length;i++){var o=al(e[i]),a=t[i];if(o==="bytes")s.push(a);else if(o==="string")s.push(new L.Buffer(a,"utf8"));else if(o==="bool")s.push(new L.Buffer(a?"01":"00","hex"));else if(o==="address")s.push(gt.setLength(a,20));else if(o.startsWith("bytes")){if(r=Tt(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);s.push(gt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Tt(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ot(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());s.push(n.toArrayLike(L.Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Tt(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ot(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());s.push(n.toTwos(r).toArrayLike(L.Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return L.Buffer.concat(s)}function Uh(e,t){return gt.keccak(ll(e,t))}var Vh={rawEncode:Hh,solidityPack:ll,soliditySHA3:Uh};const Ae=ol,sr=Vh,ul={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ys={encodeData(e,t,r,n=!0){const s=["bytes32"],i=[this.hashType(e,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ae.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Ae.keccak(l)];if(c==="string")return typeof l=="string"&&(l=L.Buffer.from(l,"utf8")),["bytes32",Ae.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const d=c.slice(0,c.lastIndexOf("[")),u=l.map(h=>o(a,d,h));return["bytes32",Ae.keccak(sr.rawEncode(u.map(([h])=>h),u.map(([,h])=>h)))]}return[c,l]};for(const a of r[e]){const[c,l]=o(a.name,a.type,t[a.name]);s.push(c),i.push(l)}}else for(const o of r[e]){let a=t[o.name];if(a!==void 0)if(o.type==="bytes")s.push("bytes32"),a=Ae.keccak(a),i.push(a);else if(o.type==="string")s.push("bytes32"),typeof a=="string"&&(a=L.Buffer.from(a,"utf8")),a=Ae.keccak(a),i.push(a);else if(r[o.type]!==void 0)s.push("bytes32"),a=Ae.keccak(this.encodeData(o.type,a,r,n)),i.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");s.push(o.type),i.push(a)}}return sr.rawEncode(s,i)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(s=>s!==e);n=[e].concat(n.sort());for(const s of n){if(!t[s])throw new Error("No type definition specified: "+s);r+=s+"("+t[s].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const s of this.findTypeDependencies(n.type,t,r))!r.includes(s)&&r.push(s);return r},hashStruct(e,t,r,n=!0){return Ae.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Ae.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in ul.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[L.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Ae.keccak(L.Buffer.concat(n))}};var Wh={TYPED_MESSAGE_SCHEMA:ul,TypedDataUtils:Ys,hashForSignTypedDataLegacy:function(e){return zh(e.data)},hashForSignTypedData_v3:function(e){return Ys.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return Ys.hash(e.data)}};function zh(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(i){return i.type==="bytes"?Ae.toBuffer(i.value):i.value}),n=e.map(function(i){return i.type}),s=e.map(function(i){if(!i.name)throw t;return i.type+" "+i.name});return sr.soliditySHA3(["bytes32","bytes32"],[sr.soliditySHA3(new Array(e.length).fill("string"),s),sr.soliditySHA3(n,r)])}var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.filterFromParam=jt.FilterPolyfill=void 0;const At=ne,fe=S,qh=5*60*1e3,at={jsonrpc:"2.0",id:0};class Jh{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,At.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=t}async newFilter(t){const r=dl(t),n=this.makeFilterId(),s=await this.setInitialCursorPosition(n,r.fromBlock);return console.info(`Installing new log filter(${n}):`,r,"initial cursor position:",s),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,fe.hexStringFromIntNumber)(n)}async newBlockFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.blockFilters.add(t),this.setFilterTimeout(t),(0,fe.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,fe.hexStringFromIntNumber)(t)}uninstallFilter(t){const r=(0,fe.intNumberFromHexString)(t);return console.info(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(t){const r=(0,fe.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Fr())}async getFilterLogs(t){const r=(0,fe.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},at),{method:"eth_getLogs",params:[ha(n)]})):Fr()}makeFilterId(){return(0,At.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(s,i)=>{if(s)return n(s);if(Array.isArray(i)||i==null)return n(new Error(`unexpected response received: ${JSON.stringify(i)}`));r(i)})})}deleteFilter(t){console.info(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return Fr();const s=await this.getCurrentBlockHeight(),i=r.toBlock==="latest"?s:r.toBlock;if(n>s||n>Number(r.toBlock))return jr();console.info(`Fetching logs from ${n} to ${i} for filter ${t}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},at),{method:"eth_getLogs",params:[ha(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:i}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,fe.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,At.IntNumber)(c+1);console.info(`Moving cursor position for filter (${t}) from ${n} to ${l}`),this.cursors.set(t,l)}}return o}async getBlockFilterChanges(t){const r=this.cursors.get(t);if(!r)return Fr();const n=await this.getCurrentBlockHeight();if(r>n)return jr();console.info(`Fetching blocks from ${r} to ${n} for filter (${t})`);const s=(await Promise.all((0,fe.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,At.IntNumber)(o))))).filter(o=>!!o),i=(0,At.IntNumber)(r+s.length);return console.info(`Moving cursor position for filter (${t}) from ${r} to ${i}`),this.cursors.set(t,i),Object.assign(Object.assign({},at),{result:s})}async getPendingTransactionFilterChanges(t){return Promise.resolve(jr())}async setInitialCursorPosition(t,r){const n=await this.getCurrentBlockHeight(),s=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,s),s}setFilterTimeout(t){const r=this.timeouts.get(t);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.info(`Filter (${t}) timed out`),this.deleteFilter(t)},qh);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const t=new Date;if(t.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=t;const r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},at),{method:"eth_blockNumber",params:[]}));return(0,fe.intNumberFromHexString)((0,fe.ensureHexString)(t))}async getBlockHashByNumber(t){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},at),{method:"eth_getBlockByNumber",params:[(0,fe.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,fe.ensureHexString)(r.result.hash):null}}jt.FilterPolyfill=Jh;function dl(e){return{fromBlock:fa(e.fromBlock),toBlock:fa(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}jt.filterFromParam=dl;function ha(e){const t={fromBlock:ga(e.fromBlock),toBlock:ga(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function fa(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,At.IntNumber)(0);if((0,fe.isHexString)(e))return(0,fe.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function ga(e){return e==="latest"?e:(0,fe.hexStringFromIntNumber)(e)}function Fr(){return Object.assign(Object.assign({},at),{error:{code:-32e3,message:"filter not found"}})}function jr(){return Object.assign(Object.assign({},at),{result:[]})}var An={},hl={},Nn={},Vi=Gh;function Gh(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const pa=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let s=0;s<arguments.length;s++)n[s]=arguments[s];return new r((s,i)=>{t.errorFirst?n.push(function(o,a){if(t.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),i(c)):s(c)}else o?i(o):s(a)}):n.push(function(o){if(t.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];s(a)}else s(o)}),e.apply(this,n)})};var Zh=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=s=>{const i=o=>typeof o=="string"?s===o:o.test(s);return t.include?t.include.some(i):!t.exclude.some(i)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):pa(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];n[s]=typeof i=="function"&&r(s)?pa(i,t):i}return n},Er={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const Qh=hc;function ma(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function Kh(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let Xh=class extends Qh.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")ma(i,this,r);else{const o=i.length,a=Kh(i);for(let c=0;c<o;c+=1)ma(a[c],this,r)}return!0}};Sr.default=Xh;var Yh=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Er,"__esModule",{value:!0});Er.BaseBlockTracker=void 0;const ef=Yh(Sr),tf=1e3,rf=(e,t)=>e+t,_a=["sync","latest"];class nf extends ef.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*tf,this._usePastBlocks=t.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){_a.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return _a.map(t=>this.listenerCount(t)).reduce(rf)}_shouldUseNewBlock(t){const r=this._currentBlock;if(!r)return!0;const n=ba(t),s=ba(r);return this._usePastBlocks&&n<s||n>s}_newPotentialLatest(t){this._shouldUseNewBlock(t)&&this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Er.BaseBlockTracker=nf;function ba(e){return Number.parseInt(e,16)}var fl={},gl={},le={};class pl extends TypeError{constructor(t,r){let n;const{message:s,explanation:i,...o}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function sf(e){return Re(e)&&typeof e[Symbol.iterator]=="function"}function Re(e){return typeof e=="object"&&e!=null}function ya(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function se(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function of(e){const{done:t,value:r}=e.next();return t?void 0:r}function af(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${se(n)}\``}=e;return{value:n,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...e,message:c}}function*wi(e,t,r,n){sf(e)||(e=[e]);for(const s of e){const i=af(s,t,r,n);i&&(yield i)}}function*Wi(e,t,r={}){const{path:n=[],branch:s=[e],coerce:i=!1,mask:o=!1}=r,a={path:n,branch:s};if(i&&(e=t.coercer(e,a),o&&t.type!=="type"&&Re(t.schema)&&Re(e)&&!Array.isArray(e)))for(const l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(const l of t.validator(e,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,d,u]of t.entries(e,a)){const h=Wi(d,u,{path:l===void 0?n:[...n,l],branch:l===void 0?s:[...s,d],coerce:i,mask:o,message:r.message});for(const f of h)f[0]?(c=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):i&&(d=f[1],l===void 0?e=d:e instanceof Map?e.set(l,d):e instanceof Set?e.add(d):Re(e)&&(d!==void 0||l in e)&&(e[l]=d))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}class te{constructor(t){const{type:r,schema:n,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,s?this.validator=(c,l)=>{const d=s(c,l);return wi(d,l,this,c)}:this.validator=()=>[],i?this.refiner=(c,l)=>{const d=i(c,l);return wi(d,l,this,c)}:this.refiner=()=>[]}assert(t,r){return ml(t,this,r)}create(t,r){return _l(t,this,r)}is(t){return zi(t,this)}mask(t,r){return bl(t,this,r)}validate(t,r={}){return Gt(t,this,r)}}function ml(e,t,r){const n=Gt(e,t,{message:r});if(n[0])throw n[0]}function _l(e,t,r){const n=Gt(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function bl(e,t,r){const n=Gt(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function zi(e,t){return!Gt(e,t)[0]}function Gt(e,t,r={}){const n=Wi(e,t,r),s=of(n);return s[0]?[new pl(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function cf(...e){const t=e[0].type==="type",r=e.map(s=>s.schema),n=Object.assign({},...r);return t?kr(n):Cr(n)}function _e(e,t){return new te({type:e,schema:null,validator:t})}function lf(e,t){return new te({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function uf(e){return new te({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function df(e){let t;return new te({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function hf(e,t){const{schema:r}=e,n={...r};for(const s of t)delete n[s];switch(e.type){case"type":return kr(n);default:return Cr(n)}}function ff(e){const t=e instanceof te,r=t?{...e.schema}:{...e};for(const n in r)r[n]=yl(r[n]);return t&&e.type==="type"?kr(r):Cr(r)}function gf(e,t){const{schema:r}=e,n={};for(const s of t)n[s]=r[s];switch(e.type){case"type":return kr(n);default:return Cr(n)}}function pf(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),_e(e,t)}function mf(){return _e("any",()=>!0)}function _f(e){return new te({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${se(t)}`}})}function bf(){return _e("bigint",e=>typeof e=="bigint")}function yf(){return _e("boolean",e=>typeof e=="boolean")}function vf(){return _e("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${se(e)}`)}function wf(e){const t={},r=e.map(n=>se(n)).join();for(const n of e)t[n]=n;return new te({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${se(n)}`}})}function Ef(){return _e("func",e=>typeof e=="function"||`Expected a function, but received: ${se(e)}`)}function Sf(e){return _e("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${se(t)}`)}function Cf(){return _e("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${se(e)}`)}function kf(e){return new te({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function Rf(e){const t=se(e),r=typeof e;return new te({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${se(n)}`}})}function If(e,t){return new te({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,s]of r.entries())yield[n,n,e],yield[n,s,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${se(r)}`}})}function qi(){return _e("never",()=>!1)}function Af(e){return new te({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Nf(){return _e("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${se(e)}`)}function Cr(e){const t=e?Object.keys(e):[],r=qi();return new te({type:"object",schema:e||null,*entries(n){if(e&&Re(n)){const s=new Set(Object.keys(n));for(const i of t)s.delete(i),yield[i,n[i],e[i]];for(const i of s)yield[i,n[i],r]}},validator(n){return Re(n)||`Expected an object, but received: ${se(n)}`},coercer(n){return Re(n)?{...n}:n}})}function yl(e){return new te({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Mf(e,t){return new te({type:"record",schema:null,*entries(r){if(Re(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator(r){return Re(r)||`Expected an object, but received: ${se(r)}`}})}function Tf(){return _e("regexp",e=>e instanceof RegExp)}function Lf(e){return new te({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${se(t)}`}})}function vl(){return _e("string",e=>typeof e=="string"||`Expected a string, but received: ${se(e)}`)}function $f(e){const t=qi();return new te({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${se(r)}`}})}function kr(e){const t=Object.keys(e);return new te({type:"type",schema:e,*entries(r){if(Re(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Re(r)||`Expected an object, but received: ${se(r)}`},coercer(r){return Re(r)?{...r}:r}})}function Pf(e){const t=e.map(r=>r.type).join(" | ");return new te({type:"union",schema:null,coercer(r){for(const n of e){const[s,i]=n.validate(r,{coerce:!0});if(!s)return i}return r},validator(r,n){const s=[];for(const i of e){const[...o]=Wi(r,i,n),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${se(r)}`,...s]}})}function wl(){return _e("unknown",()=>!0)}function Ji(e,t,r){return new te({...e,coercer:(n,s)=>zi(n,t)?e.coercer(r(n,s),s):e.coercer(n,s)})}function Of(e,t,r={}){return Ji(e,wl(),n=>{const s=typeof t=="function"?t():t;if(n===void 0)return s;if(!r.strict&&ya(n)&&ya(s)){const i={...n};let o=!1;for(const a in s)i[a]===void 0&&(i[a]=s[a],o=!0);if(o)return i}return n})}function xf(e){return Ji(e,vl(),t=>t.trim())}function Bf(e){return yt(e,"empty",t=>{const r=El(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function El(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Ff(e,t,r={}){const{exclusive:n}=r;return yt(e,"max",s=>n?s<t:s<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${s}\``)}function jf(e,t,r={}){const{exclusive:n}=r;return yt(e,"min",s=>n?s>t:s>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${s}\``)}function Df(e){return yt(e,"nonempty",t=>El(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Hf(e,t){return yt(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Uf(e,t,r=t){const n=`Expected a ${e.type}`,s=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return yt(e,"size",i=>{if(typeof i=="number"||i instanceof Date)return t<=i&&i<=r||`${n} ${s} but received \`${i}\``;if(i instanceof Map||i instanceof Set){const{size:o}=i;return t<=o&&o<=r||`${n} with a size ${s} but received one with a size of \`${o}\``}else{const{length:o}=i;return t<=o&&o<=r||`${n} with a length ${s} but received one with a length of \`${o}\``}})}function yt(e,t,r){return new te({...e,*refiner(n,s){yield*e.refiner(n,s);const i=r(n,s),o=wi(i,s,e,n);for(const a of o)yield{...a,refinement:t}}})}const Vf=Object.freeze(Object.defineProperty({__proto__:null,Struct:te,StructError:pl,any:mf,array:_f,assert:ml,assign:cf,bigint:bf,boolean:yf,coerce:Ji,create:_l,date:vf,defaulted:Of,define:_e,deprecated:lf,dynamic:uf,empty:Bf,enums:wf,func:Ef,instance:Sf,integer:Cf,intersection:kf,is:zi,lazy:df,literal:Rf,map:If,mask:bl,max:Ff,min:jf,never:qi,nonempty:Df,nullable:Af,number:Nf,object:Cr,omit:hf,optional:yl,partial:ff,pattern:Hf,pick:gf,record:Mf,refine:yt,regexp:Tf,set:Lf,size:Uf,string:vl,struct:pf,trimmed:xf,tuple:$f,type:kr,union:Pf,unknown:wl,validate:Gt},Symbol.toStringTag,{value:"Module"})),vt=Ut(Vf);Object.defineProperty(le,"__esModule",{value:!0});le.assertExhaustive=le.assertStruct=le.assert=le.AssertionError=void 0;const Wf=vt;function zf(e){return typeof e=="object"&&e!==null&&"message"in e}function qf(e){var t,r;return typeof((r=(t=e==null?void 0:e.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function Jf(e){const t=zf(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function Sl(e,t){return qf(e)?new e({message:t}):e({message:t})}class Gi extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}le.AssertionError=Gi;function Gf(e,t="Assertion failed.",r=Gi){if(!e)throw t instanceof Error?t:Sl(r,t)}le.assert=Gf;function Zf(e,t,r="Assertion failed",n=Gi){try{(0,Wf.assert)(e,t)}catch(s){throw Sl(n,`${r}: ${Jf(s)}.`)}}le.assertStruct=Zf;function Qf(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}le.assertExhaustive=Qf;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.base64=void 0;const Kf=vt,Xf=le,Yf=(e,t={})=>{var r,n;const s=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,i=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let o;i==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Xf.assert)(i==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return s?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Kf.pattern)(e,a)};Rr.base64=Yf;var j={},Ir={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=vt,r=le;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,t.is)(l,e.HexStruct)}e.isHexString=n;function s(l){return(0,t.is)(l,e.StrictHexStruct)}e.isStrictHexString=s;function i(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}e.assertIsHexString=i;function o(l){(0,r.assert)(s(l),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}e.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}e.remove0x=c})(Ir);Object.defineProperty(j,"__esModule",{value:!0});j.createDataView=j.concatBytes=j.valueToBytes=j.stringToBytes=j.numberToBytes=j.signedBigIntToBytes=j.bigIntToBytes=j.hexToBytes=j.bytesToString=j.bytesToNumber=j.bytesToSignedBigInt=j.bytesToBigInt=j.bytesToHex=j.assertIsBytes=j.isBytes=void 0;const ve=le,Ei=Ir,va=48,wa=58,Ea=87;function e0(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const t0=e0();function Zi(e){return e instanceof Uint8Array}j.isBytes=Zi;function Zt(e){(0,ve.assert)(Zi(e),"Value must be a Uint8Array.")}j.assertIsBytes=Zt;function Cl(e){if(Zt(e),e.length===0)return"0x";const t=t0(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,Ei.add0x)(r.join(""))}j.bytesToHex=Cl;function kl(e){Zt(e);const t=Cl(e);return BigInt(t)}j.bytesToBigInt=kl;function r0(e){Zt(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}j.bytesToSignedBigInt=r0;function n0(e){Zt(e);const t=kl(e);return(0,ve.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}j.bytesToNumber=n0;function s0(e){return Zt(e),new TextDecoder().decode(e)}j.bytesToString=s0;function Mn(e){var t;if(((t=e==null?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,Ei.assertIsHexString)(e);const r=(0,Ei.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const o=n.charCodeAt(i*2),a=n.charCodeAt(i*2+1),c=o-(o<wa?va:Ea),l=a-(a<wa?va:Ea);s[i]=c*16+l}return s}j.hexToBytes=Mn;function Rl(e){(0,ve.assert)(typeof e=="bigint","Value must be a bigint."),(0,ve.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return Mn(t)}j.bigIntToBytes=Rl;function i0(e,t){(0,ve.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function o0(e,t){(0,ve.assert)(typeof e=="bigint","Value must be a bigint."),(0,ve.assert)(typeof t=="number","Byte length must be a number."),(0,ve.assert)(t>0,"Byte length must be greater than 0."),(0,ve.assert)(i0(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}j.signedBigIntToBytes=o0;function Il(e){(0,ve.assert)(typeof e=="number","Value must be a number."),(0,ve.assert)(e>=0,"Value must be a non-negative number."),(0,ve.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return Mn(t)}j.numberToBytes=Il;function Al(e){return(0,ve.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}j.stringToBytes=Al;function Nl(e){if(typeof e=="bigint")return Rl(e);if(typeof e=="number")return Il(e);if(typeof e=="string")return e.startsWith("0x")?Mn(e):Al(e);if(Zi(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}j.valueToBytes=Nl;function a0(e){const t=new Array(e.length);let r=0;for(let s=0;s<e.length;s++){const i=Nl(e[s]);t[s]=i,r+=i.length}const n=new Uint8Array(r);for(let s=0,i=0;s<t.length;s++)n.set(t[s],i),i+=t[s].length;return n}j.concatBytes=a0;function c0(e){if(typeof L.Buffer<"u"&&e instanceof L.Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}j.createDataView=c0;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ChecksumStruct=void 0;const Sa=vt,l0=Rr;Tn.ChecksumStruct=(0,Sa.size)((0,l0.base64)((0,Sa.string)(),{paddingRequired:!0}),44,44);var je={};Object.defineProperty(je,"__esModule",{value:!0});je.createHex=je.createBytes=je.createBigInt=je.createNumber=void 0;const Y=vt,u0=le,Ml=j,Ln=Ir,Tl=(0,Y.union)([(0,Y.number)(),(0,Y.bigint)(),(0,Y.string)(),Ln.StrictHexStruct]),d0=(0,Y.coerce)((0,Y.number)(),Tl,Number),h0=(0,Y.coerce)((0,Y.bigint)(),Tl,BigInt);(0,Y.union)([Ln.StrictHexStruct,(0,Y.instance)(Uint8Array)]);const f0=(0,Y.coerce)((0,Y.instance)(Uint8Array),(0,Y.union)([Ln.StrictHexStruct]),Ml.hexToBytes),g0=(0,Y.coerce)(Ln.StrictHexStruct,(0,Y.instance)(Uint8Array),Ml.bytesToHex);function p0(e){try{const t=(0,Y.create)(e,d0);return(0,u0.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof Y.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}je.createNumber=p0;function m0(e){try{return(0,Y.create)(e,h0)}catch(t){throw t instanceof Y.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}je.createBigInt=m0;function _0(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,Y.create)(e,f0)}catch(t){throw t instanceof Y.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}je.createBytes=_0;function b0(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,Y.create)(e,g0)}catch(t){throw t instanceof Y.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}je.createHex=b0;var Dt={},Ll=A&&A.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},ge=A&&A.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ie,$e;Object.defineProperty(Dt,"__esModule",{value:!0});Dt.FrozenSet=Dt.FrozenMap=void 0;class Qi{constructor(t){Ie.set(this,void 0),Ll(this,Ie,new Map(t),"f"),Object.freeze(this)}get size(){return ge(this,Ie,"f").size}[(Ie=new WeakMap,Symbol.iterator)](){return ge(this,Ie,"f")[Symbol.iterator]()}entries(){return ge(this,Ie,"f").entries()}forEach(t,r){return ge(this,Ie,"f").forEach((n,s,i)=>t.call(r,n,s,this))}get(t){return ge(this,Ie,"f").get(t)}has(t){return ge(this,Ie,"f").has(t)}keys(){return ge(this,Ie,"f").keys()}values(){return ge(this,Ie,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}Dt.FrozenMap=Qi;class Ki{constructor(t){$e.set(this,void 0),Ll(this,$e,new Set(t),"f"),Object.freeze(this)}get size(){return ge(this,$e,"f").size}[($e=new WeakMap,Symbol.iterator)](){return ge(this,$e,"f")[Symbol.iterator]()}entries(){return ge(this,$e,"f").entries()}forEach(t,r){return ge(this,$e,"f").forEach((n,s,i)=>t.call(r,n,s,this))}has(t){return ge(this,$e,"f").has(t)}keys(){return ge(this,$e,"f").keys()}values(){return ge(this,$e,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}Dt.FrozenSet=Ki;Object.freeze(Qi);Object.freeze(Qi.prototype);Object.freeze(Ki);Object.freeze(Ki.prototype);var $l={};Object.defineProperty($l,"__esModule",{value:!0});var Pl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=vt,r=le,n=()=>(0,t.define)("finite number",w=>(0,t.is)(w,(0,t.number)())&&Number.isFinite(w));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(w,N)=>{function U(G,V){const he=[...V.validator(G,N)];return he.length>0?he:!0}try{const G=U(w,e.UnsafeJsonStruct);return G!==!0?G:U(JSON.parse(JSON.stringify(w)),e.UnsafeJsonStruct)}catch(G){return G instanceof RangeError?"Circular reference detected":!1}});function s(w){return(0,t.is)(w,e.JsonStruct)}e.isValidJson=s;function i(w){(0,r.assertStruct)(w,e.JsonStruct,"Invalid JSON value");const N=JSON.stringify(w);return new TextEncoder().encode(N).byteLength}e.getJsonSize=i,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function o(w){return(0,t.is)(w,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=o;function a(w,N){(0,r.assertStruct)(w,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",N)}e.assertIsJsonRpcNotification=a;function c(w){return(0,t.is)(w,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=c;function l(w,N){(0,r.assertStruct)(w,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",N)}e.assertIsJsonRpcRequest=l,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function d(w){return(0,t.is)(w,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=d;function u(w,N){(0,r.assertStruct)(w,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",N)}e.assertIsPendingJsonRpcResponse=u;function h(w){return(0,t.is)(w,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=h;function f(w,N){(0,r.assertStruct)(w,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",N)}e.assertIsJsonRpcResponse=f;function g(w){return(0,t.is)(w,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=g;function v(w,N){(0,r.assertStruct)(w,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",N)}e.assertIsJsonRpcSuccess=v;function m(w){return(0,t.is)(w,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=m;function b(w,N){(0,r.assertStruct)(w,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",N)}e.assertIsJsonRpcFailure=b;function p(w){return(0,t.is)(w,e.JsonRpcErrorStruct)}e.isJsonRpcError=p;function _(w,N){(0,r.assertStruct)(w,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",N)}e.assertIsJsonRpcError=_;function $(w){const{permitEmptyString:N,permitFractions:U,permitNull:G}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},w);return z=>!!(typeof z=="number"&&(U||Number.isInteger(z))||typeof z=="string"&&(N||z.length>0)||G&&z===null)}e.getJsonRpcIdValidator=$})(Pl);var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});var Ht={},Si={exports:{}},ei,Ca;function y0(){if(Ca)return ei;Ca=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;ei=function(d,u){u=u||{};var h=typeof d;if(h==="string"&&d.length>0)return o(d);if(h==="number"&&isFinite(d))return u.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(u){var h=parseFloat(u[1]),f=(u[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(d){var u=Math.abs(d);return u>=n?Math.round(d/n)+"d":u>=r?Math.round(d/r)+"h":u>=t?Math.round(d/t)+"m":u>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var u=Math.abs(d);return u>=n?l(d,u,n,"day"):u>=r?l(d,u,r,"hour"):u>=t?l(d,u,t,"minute"):u>=e?l(d,u,e,"second"):d+" ms"}function l(d,u,h,f){var g=u>=h*1.5;return Math.round(d/h)+" "+f+(g?"s":"")}return ei}function v0(e){r.debug=r,r.default=r,r.coerce=c,r.disable=i,r.enable=s,r.enabled=o,r.humanize=y0(),r.destroy=l,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let u=0;for(let h=0;h<d.length;h++)u=(u<<5)-u+d.charCodeAt(h),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=t;function r(d){let u,h=null,f,g;function v(...m){if(!v.enabled)return;const b=v,p=Number(new Date),_=p-(u||p);b.diff=_,b.prev=u,b.curr=p,u=p,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let $=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(N,U)=>{if(N==="%%")return"%";$++;const G=r.formatters[U];if(typeof G=="function"){const V=m[$];N=G.call(b,V),m.splice($,1),$--}return N}),r.formatArgs.call(b,m),(b.log||r.log).apply(b,m)}return v.namespace=d,v.useColors=r.useColors(),v.color=r.selectColor(d),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(f!==r.namespaces&&(f=r.namespaces,g=r.enabled(d)),g),set:m=>{h=m}}),typeof r.init=="function"&&r.init(v),v}function n(d,u){const h=r(this.namespace+(typeof u>"u"?":":u)+d);return h.log=this.log,h}function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let u;const h=(typeof d=="string"?d:"").split(/[\s,]+/),f=h.length;for(u=0;u<f;u++)h[u]&&(d=h[u].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...r.names.map(a),...r.skips.map(a).map(u=>"-"+u)].join(",");return r.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let u,h;for(u=0,h=r.skips.length;u<h;u++)if(r.skips[u].test(d))return!1;for(u=0,h=r.names.length;u<h;u++)if(r.names[u].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var w0=v0;(function(e,t){t.formatArgs=n,t.save=s,t.load=i,t.useColors=r,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let d=0,u=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(u=d))}),c.splice(u,0,l)}t.log=console.debug||console.log||(()=>{});function s(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof L.process<"u"&&"env"in L.process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=w0(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(Si,Si.exports);var E0=Si.exports,S0=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.createModuleLogger=Ht.createProjectLogger=void 0;const C0=S0(E0),k0=(0,C0.default)("metamask");function R0(e){return k0.extend(e)}Ht.createProjectLogger=R0;function I0(e,t){return e.extend(t)}Ht.createModuleLogger=I0;var xl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(l){return Array.isArray(l)&&l.length>0}e.isNonEmptyArray=t;function r(l){return l==null}e.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}e.isObject=n;const s=(l,d)=>Object.hasOwnProperty.call(l,d);e.hasProperty=s,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function i(l){if(typeof l!="object"||l===null)return!1;try{let d=l;for(;Object.getPrototypeOf(d)!==null;)d=Object.getPrototypeOf(d);return Object.getPrototypeOf(l)===d}catch{return!1}}e.isPlainObject=i;function o(l){return l.charCodeAt(0)<=127}e.isASCII=o;function a(l){var d;return l.split("").reduce((h,f)=>o(f)?h+1:h+2,0)+((d=l.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&d!==void 0?d:[]).length}e.calculateStringSize=a;function c(l){return l.toString().length}e.calculateNumberSize=c})(xl);var De={};Object.defineProperty(De,"__esModule",{value:!0});De.hexToBigInt=De.hexToNumber=De.bigIntToHex=De.numberToHex=void 0;const Lt=le,cr=Ir,A0=e=>((0,Lt.assert)(typeof e=="number","Value must be a number."),(0,Lt.assert)(e>=0,"Value must be a non-negative number."),(0,Lt.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,cr.add0x)(e.toString(16)));De.numberToHex=A0;const N0=e=>((0,Lt.assert)(typeof e=="bigint","Value must be a bigint."),(0,Lt.assert)(e>=0,"Value must be a non-negative bigint."),(0,cr.add0x)(e.toString(16)));De.bigIntToHex=N0;const M0=e=>{(0,cr.assertIsHexString)(e);const t=parseInt(e,16);return(0,Lt.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};De.hexToNumber=M0;const T0=e=>((0,cr.assertIsHexString)(e),BigInt((0,cr.add0x)(e)));De.hexToBigInt=T0;var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});var Fl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(i){i[i.Millisecond=1]="Millisecond",i[i.Second=1e3]="Second",i[i.Minute=6e4]="Minute",i[i.Hour=36e5]="Hour",i[i.Day=864e5]="Day",i[i.Week=6048e5]="Week",i[i.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=i=>Number.isInteger(i)&&i>=0,r=(i,o)=>{if(!t(i))throw new Error(`"${o}" must be a non-negative integer. Received: "${i}".`)};function n(i,o){return r(i,"count"),i*o}e.inMilliseconds=n;function s(i){return r(i,"timestamp"),Date.now()-i}e.timeSince=s})(Fl);var jl={};Object.defineProperty(jl,"__esModule",{value:!0});var Dl={},Ci={exports:{}};const L0="2.0.0",Hl=256,$0=Number.MAX_SAFE_INTEGER||9007199254740991,P0=16,O0=Hl-6,x0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var $n={MAX_LENGTH:Hl,MAX_SAFE_COMPONENT_LENGTH:P0,MAX_SAFE_BUILD_LENGTH:O0,MAX_SAFE_INTEGER:$0,RELEASE_TYPES:x0,SEMVER_SPEC_VERSION:L0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const B0=typeof L.process=="object"&&L.process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Pn=B0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=$n,i=Pn;t=e.exports={};const o=t.re=[],a=t.safeRe=[],c=t.src=[],l=t.t={};let d=0;const u="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[u,n]],f=v=>{for(const[m,b]of h)v=v.split(`${m}*`).join(`${m}{0,${b}}`).split(`${m}+`).join(`${m}{1,${b}}`);return v},g=(v,m,b)=>{const p=f(m),_=d++;i(v,_,m),l[v]=_,c[_]=m,o[_]=new RegExp(m,b?"g":void 0),a[_]=new RegExp(p,b?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${u}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${u}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ci,Ci.exports);var Ar=Ci.exports;const F0=Object.freeze({loose:!0}),j0=Object.freeze({}),D0=e=>e?typeof e!="object"?F0:e:j0;var Xi=D0;const ka=/^[0-9]+$/,Ul=(e,t)=>{const r=ka.test(e),n=ka.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},H0=(e,t)=>Ul(t,e);var Vl={compareIdentifiers:Ul,rcompareIdentifiers:H0};const Dr=Pn,{MAX_LENGTH:Ra,MAX_SAFE_INTEGER:Hr}=$n,{safeRe:Ia,t:Aa}=Ar,U0=Xi,{compareIdentifiers:kt}=Vl;let V0=class Pe{constructor(t,r){if(r=U0(r),t instanceof Pe){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Ra)throw new TypeError(`version is longer than ${Ra} characters`);Dr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Ia[Aa.LOOSE]:Ia[Aa.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Hr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Hr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Hr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Hr)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Dr("SemVer.compare",this.version,this.options,t),!(t instanceof Pe)){if(typeof t=="string"&&t===this.version)return 0;t=new Pe(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Pe||(t=new Pe(t,this.options)),kt(this.major,t.major)||kt(this.minor,t.minor)||kt(this.patch,t.patch)}comparePre(t){if(t instanceof Pe||(t=new Pe(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Dr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return kt(n,s)}while(++r)}compareBuild(t){t instanceof Pe||(t=new Pe(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Dr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return kt(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),kt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var pe=V0;const Na=pe,W0=(e,t,r=!1)=>{if(e instanceof Na)return e;try{return new Na(e,t)}catch(n){if(!r)return null;throw n}};var Qt=W0;const z0=Qt,q0=(e,t)=>{const r=z0(e,t);return r?r.version:null};var J0=q0;const G0=Qt,Z0=(e,t)=>{const r=G0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Q0=Z0;const Ma=pe,K0=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Ma(e instanceof Ma?e.version:e,r).inc(t,n,s).version}catch{return null}};var X0=K0;const Ta=Qt,Y0=(e,t)=>{const r=Ta(e,null,!0),n=Ta(t,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,a=i?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const d=c?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};var e1=Y0;const t1=pe,r1=(e,t)=>new t1(e,t).major;var n1=r1;const s1=pe,i1=(e,t)=>new s1(e,t).minor;var o1=i1;const a1=pe,c1=(e,t)=>new a1(e,t).patch;var l1=c1;const u1=Qt,d1=(e,t)=>{const r=u1(e,t);return r&&r.prerelease.length?r.prerelease:null};var h1=d1;const La=pe,f1=(e,t,r)=>new La(e,r).compare(new La(t,r));var Me=f1;const g1=Me,p1=(e,t,r)=>g1(t,e,r);var m1=p1;const _1=Me,b1=(e,t)=>_1(e,t,!0);var y1=b1;const $a=pe,v1=(e,t,r)=>{const n=new $a(e,r),s=new $a(t,r);return n.compare(s)||n.compareBuild(s)};var Yi=v1;const w1=Yi,E1=(e,t)=>e.sort((r,n)=>w1(r,n,t));var S1=E1;const C1=Yi,k1=(e,t)=>e.sort((r,n)=>C1(n,r,t));var R1=k1;const I1=Me,A1=(e,t,r)=>I1(e,t,r)>0;var On=A1;const N1=Me,M1=(e,t,r)=>N1(e,t,r)<0;var eo=M1;const T1=Me,L1=(e,t,r)=>T1(e,t,r)===0;var Wl=L1;const $1=Me,P1=(e,t,r)=>$1(e,t,r)!==0;var zl=P1;const O1=Me,x1=(e,t,r)=>O1(e,t,r)>=0;var to=x1;const B1=Me,F1=(e,t,r)=>B1(e,t,r)<=0;var ro=F1;const j1=Wl,D1=zl,H1=On,U1=to,V1=eo,W1=ro,z1=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return j1(e,r,n);case"!=":return D1(e,r,n);case">":return H1(e,r,n);case">=":return U1(e,r,n);case"<":return V1(e,r,n);case"<=":return W1(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var ql=z1;const q1=pe,J1=Qt,{safeRe:Ur,t:Vr}=Ar,G1=(e,t)=>{if(e instanceof q1)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(Ur[Vr.COERCE]);else{let n;for(;(n=Ur[Vr.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ur[Vr.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ur[Vr.COERCERTL].lastIndex=-1}return r===null?null:J1(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var Z1=G1,ti,Pa;function Q1(){return Pa||(Pa=1,ti=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),ti}var K1=D;D.Node=pt;D.create=D;function D(e){var t=this;if(t instanceof D||(t=new D),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}D.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};D.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};D.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};D.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Y1(this,arguments[e]);return this.length};D.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)eg(this,arguments[e]);return this.length};D.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};D.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};D.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};D.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};D.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};D.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};D.prototype.map=function(e,t){t=t||this;for(var r=new D,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};D.prototype.mapReverse=function(e,t){t=t||this;for(var r=new D,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};D.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};D.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};D.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};D.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};D.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new D;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};D.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new D;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};D.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var i=[],n=0;s&&n<t;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=X1(this,s,r[n]);return i};D.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function X1(e,t,r){var n=t===e.head?new pt(r,null,t,e):new pt(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Y1(e,t){e.tail=new pt(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function eg(e,t){e.head=new pt(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function pt(e,t,r,n){if(!(this instanceof pt))return new pt(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Q1()(D)}catch{}const tg=K1,ct=Symbol("max"),We=Symbol("length"),Rt=Symbol("lengthCalculator"),ir=Symbol("allowStale"),ut=Symbol("maxAge"),He=Symbol("dispose"),Oa=Symbol("noDisposeOnSet"),ie=Symbol("lruList"),Ne=Symbol("cache"),Jl=Symbol("updateAgeOnGet"),ri=()=>1;class rg{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[ct]=t.max||1/0;const r=t.length||ri;if(this[Rt]=typeof r!="function"?ri:r,this[ir]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[ut]=t.maxAge||0,this[He]=t.dispose,this[Oa]=t.noDisposeOnSet||!1,this[Jl]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[ct]=t||1/0,Xt(this)}get max(){return this[ct]}set allowStale(t){this[ir]=!!t}get allowStale(){return this[ir]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[ut]=t,Xt(this)}get maxAge(){return this[ut]}set lengthCalculator(t){typeof t!="function"&&(t=ri),t!==this[Rt]&&(this[Rt]=t,this[We]=0,this[ie].forEach(r=>{r.length=this[Rt](r.value,r.key),this[We]+=r.length})),Xt(this)}get lengthCalculator(){return this[Rt]}get length(){return this[We]}get itemCount(){return this[ie].length}rforEach(t,r){r=r||this;for(let n=this[ie].tail;n!==null;){const s=n.prev;xa(this,t,n,r),n=s}}forEach(t,r){r=r||this;for(let n=this[ie].head;n!==null;){const s=n.next;xa(this,t,n,r),n=s}}keys(){return this[ie].toArray().map(t=>t.key)}values(){return this[ie].toArray().map(t=>t.value)}reset(){this[He]&&this[ie]&&this[ie].length&&this[ie].forEach(t=>this[He](t.key,t.value)),this[Ne]=new Map,this[ie]=new tg,this[We]=0}dump(){return this[ie].map(t=>Xr(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ie]}set(t,r,n){if(n=n||this[ut],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const s=n?Date.now():0,i=this[Rt](r,t);if(this[Ne].has(t)){if(i>this[ct])return $t(this,this[Ne].get(t)),!1;const c=this[Ne].get(t).value;return this[He]&&(this[Oa]||this[He](t,c.value)),c.now=s,c.maxAge=n,c.value=r,this[We]+=i-c.length,c.length=i,this.get(t),Xt(this),!0}const o=new ng(t,r,i,s,n);return o.length>this[ct]?(this[He]&&this[He](t,r),!1):(this[We]+=o.length,this[ie].unshift(o),this[Ne].set(t,this[ie].head),Xt(this),!0)}has(t){if(!this[Ne].has(t))return!1;const r=this[Ne].get(t).value;return!Xr(this,r)}get(t){return ni(this,t,!0)}peek(t){return ni(this,t,!1)}pop(){const t=this[ie].tail;return t?($t(this,t),t.value):null}del(t){$t(this,this[Ne].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const s=t[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const o=i-r;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Ne].forEach((t,r)=>ni(this,r,!1))}}const ni=(e,t,r)=>{const n=e[Ne].get(t);if(n){const s=n.value;if(Xr(e,s)){if($t(e,n),!e[ir])return}else r&&(e[Jl]&&(n.value.now=Date.now()),e[ie].unshiftNode(n));return s.value}},Xr=(e,t)=>{if(!t||!t.maxAge&&!e[ut])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[ut]&&r>e[ut]},Xt=e=>{if(e[We]>e[ct])for(let t=e[ie].tail;e[We]>e[ct]&&t!==null;){const r=t.prev;$t(e,t),t=r}},$t=(e,t)=>{if(t){const r=t.value;e[He]&&e[He](r.key,r.value),e[We]-=r.length,e[Ne].delete(r.key),e[ie].removeNode(t)}};class ng{constructor(t,r,n,s,i){this.key=t,this.value=r,this.length=n,this.now=s,this.maxAge=i||0}}const xa=(e,t,r,n)=>{let s=r.value;Xr(e,s)&&($t(e,r),e[ir]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var sg=rg,si,Ba;function Te(){if(Ba)return si;Ba=1;class e{constructor(y,R){if(R=n(R),y instanceof e)return y.loose===!!R.loose&&y.includePrerelease===!!R.includePrerelease?y:new e(y.raw,R);if(y instanceof s)return this.raw=y.value,this.set=[[y]],this.format(),this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=y.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const k=this.set[0];if(this.set=this.set.filter(I=>!g(I[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&v(I[0])){this.set=[I];break}}}this.format()}format(){return this.range=this.set.map(y=>y.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(y){const k=((this.options.includePrerelease&&h)|(this.options.loose&&f))+":"+y,I=r.get(k);if(I)return I;const C=this.options.loose,T=C?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];y=y.replace(T,he(this.options.includePrerelease)),i("hyphen replace",y),y=y.replace(a[c.COMPARATORTRIM],l),i("comparator trim",y),y=y.replace(a[c.TILDETRIM],d),i("tilde trim",y),y=y.replace(a[c.CARETTRIM],u),i("caret trim",y);let H=y.split(" ").map(Z=>b(Z,this.options)).join(" ").split(/\s+/).map(Z=>z(Z,this.options));C&&(H=H.filter(Z=>(i("loose invalid filter",Z,this.options),!!Z.match(a[c.COMPARATORLOOSE])))),i("range list",H);const O=new Map,q=H.map(Z=>new s(Z,this.options));for(const Z of q){if(g(Z))return[Z];O.set(Z.value,Z)}O.size>1&&O.has("")&&O.delete("");const ue=[...O.values()];return r.set(k,ue),ue}intersects(y,R){if(!(y instanceof e))throw new TypeError("a Range is required");return this.set.some(k=>m(k,R)&&y.set.some(I=>m(I,R)&&k.every(C=>I.every(T=>C.intersects(T,R)))))}test(y){if(!y)return!1;if(typeof y=="string")try{y=new o(y,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(ee(this.set[R],y,this.options))return!0;return!1}}si=e;const t=sg,r=new t({max:1e3}),n=Xi,s=xn(),i=Pn,o=pe,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:u}=Ar,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:f}=$n,g=E=>E.value==="<0.0.0-0",v=E=>E.value==="",m=(E,y)=>{let R=!0;const k=E.slice();let I=k.pop();for(;R&&k.length;)R=k.every(C=>I.intersects(C,y)),I=k.pop();return R},b=(E,y)=>(i("comp",E,y),E=w(E,y),i("caret",E),E=_(E,y),i("tildes",E),E=U(E,y),i("xrange",E),E=V(E,y),i("stars",E),E),p=E=>!E||E.toLowerCase()==="x"||E==="*",_=(E,y)=>E.trim().split(/\s+/).map(R=>$(R,y)).join(" "),$=(E,y)=>{const R=y.loose?a[c.TILDELOOSE]:a[c.TILDE];return E.replace(R,(k,I,C,T,H)=>{i("tilde",E,k,I,C,T,H);let O;return p(I)?O="":p(C)?O=`>=${I}.0.0 <${+I+1}.0.0-0`:p(T)?O=`>=${I}.${C}.0 <${I}.${+C+1}.0-0`:H?(i("replaceTilde pr",H),O=`>=${I}.${C}.${T}-${H} <${I}.${+C+1}.0-0`):O=`>=${I}.${C}.${T} <${I}.${+C+1}.0-0`,i("tilde return",O),O})},w=(E,y)=>E.trim().split(/\s+/).map(R=>N(R,y)).join(" "),N=(E,y)=>{i("caret",E,y);const R=y.loose?a[c.CARETLOOSE]:a[c.CARET],k=y.includePrerelease?"-0":"";return E.replace(R,(I,C,T,H,O)=>{i("caret",E,I,C,T,H,O);let q;return p(C)?q="":p(T)?q=`>=${C}.0.0${k} <${+C+1}.0.0-0`:p(H)?C==="0"?q=`>=${C}.${T}.0${k} <${C}.${+T+1}.0-0`:q=`>=${C}.${T}.0${k} <${+C+1}.0.0-0`:O?(i("replaceCaret pr",O),C==="0"?T==="0"?q=`>=${C}.${T}.${H}-${O} <${C}.${T}.${+H+1}-0`:q=`>=${C}.${T}.${H}-${O} <${C}.${+T+1}.0-0`:q=`>=${C}.${T}.${H}-${O} <${+C+1}.0.0-0`):(i("no pr"),C==="0"?T==="0"?q=`>=${C}.${T}.${H}${k} <${C}.${T}.${+H+1}-0`:q=`>=${C}.${T}.${H}${k} <${C}.${+T+1}.0-0`:q=`>=${C}.${T}.${H} <${+C+1}.0.0-0`),i("caret return",q),q})},U=(E,y)=>(i("replaceXRanges",E,y),E.split(/\s+/).map(R=>G(R,y)).join(" ")),G=(E,y)=>{E=E.trim();const R=y.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return E.replace(R,(k,I,C,T,H,O)=>{i("xRange",E,k,I,C,T,H,O);const q=p(C),ue=q||p(T),Z=ue||p(H),Ge=Z;return I==="="&&Ge&&(I=""),O=y.includePrerelease?"-0":"",q?I===">"||I==="<"?k="<0.0.0-0":k="*":I&&Ge?(ue&&(T=0),H=0,I===">"?(I=">=",ue?(C=+C+1,T=0,H=0):(T=+T+1,H=0)):I==="<="&&(I="<",ue?C=+C+1:T=+T+1),I==="<"&&(O="-0"),k=`${I+C}.${T}.${H}${O}`):ue?k=`>=${C}.0.0${O} <${+C+1}.0.0-0`:Z&&(k=`>=${C}.${T}.0${O} <${C}.${+T+1}.0-0`),i("xRange return",k),k})},V=(E,y)=>(i("replaceStars",E,y),E.trim().replace(a[c.STAR],"")),z=(E,y)=>(i("replaceGTE0",E,y),E.trim().replace(a[y.includePrerelease?c.GTE0PRE:c.GTE0],"")),he=E=>(y,R,k,I,C,T,H,O,q,ue,Z,Ge,Gn)=>(p(k)?R="":p(I)?R=`>=${k}.0.0${E?"-0":""}`:p(C)?R=`>=${k}.${I}.0${E?"-0":""}`:T?R=`>=${R}`:R=`>=${R}${E?"-0":""}`,p(q)?O="":p(ue)?O=`<${+q+1}.0.0-0`:p(Z)?O=`<${q}.${+ue+1}.0-0`:Ge?O=`<=${q}.${ue}.${Z}-${Ge}`:E?O=`<${q}.${ue}.${+Z+1}-0`:O=`<=${O}`,`${R} ${O}`.trim()),ee=(E,y,R)=>{for(let k=0;k<E.length;k++)if(!E[k].test(y))return!1;if(y.prerelease.length&&!R.includePrerelease){for(let k=0;k<E.length;k++)if(i(E[k].semver),E[k].semver!==s.ANY&&E[k].semver.prerelease.length>0){const I=E[k].semver;if(I.major===y.major&&I.minor===y.minor&&I.patch===y.patch)return!0}return!1}return!0};return si}var ii,Fa;function xn(){if(Fa)return ii;Fa=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,u){if(u=r(u),d instanceof t){if(d.loose===!!u.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,u),this.options=u,this.loose=!!u.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const u=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],h=d.match(u);if(!h)throw new TypeError(`Invalid comparator: ${d}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new a(d,this.options)}catch{return!1}return i(d,this.operator,this.semver,this.options)}intersects(d,u){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(d.value,u).test(this.value):d.operator===""?d.value===""?!0:new c(this.value,u).test(d.semver):(u=r(u),u.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!u.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||i(this.semver,"<",d.semver,u)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||i(this.semver,">",d.semver,u)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}ii=t;const r=Xi,{safeRe:n,t:s}=Ar,i=ql,o=Pn,a=pe,c=Te();return ii}const ig=Te(),og=(e,t,r)=>{try{t=new ig(t,r)}catch{return!1}return t.test(e)};var Bn=og;const ag=Te(),cg=(e,t)=>new ag(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var lg=cg;const ug=pe,dg=Te(),hg=(e,t,r)=>{let n=null,s=null,i=null;try{i=new dg(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new ug(n,r))}),n};var fg=hg;const gg=pe,pg=Te(),mg=(e,t,r)=>{let n=null,s=null,i=null;try{i=new pg(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new gg(n,r))}),n};var _g=mg;const oi=pe,bg=Te(),ja=On,yg=(e,t)=>{e=new bg(e,t);let r=new oi("0.0.0");if(e.test(r)||(r=new oi("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let i=null;s.forEach(o=>{const a=new oi(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||ja(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||ja(r,i))&&(r=i)}return r&&e.test(r)?r:null};var vg=yg;const wg=Te(),Eg=(e,t)=>{try{return new wg(e,t).range||"*"}catch{return null}};var Sg=Eg;const Cg=pe,Gl=xn(),{ANY:kg}=Gl,Rg=Te(),Ig=Bn,Da=On,Ha=eo,Ag=ro,Ng=to,Mg=(e,t,r,n)=>{e=new Cg(e,n),t=new Rg(t,n);let s,i,o,a,c;switch(r){case">":s=Da,i=Ag,o=Ha,a=">",c=">=";break;case"<":s=Ha,i=Ng,o=Da,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ig(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const d=t.set[l];let u=null,h=null;if(d.forEach(f=>{f.semver===kg&&(f=new Gl(">=0.0.0")),u=u||f,h=h||f,s(f.semver,u.semver,n)?u=f:o(f.semver,h.semver,n)&&(h=f)}),u.operator===a||u.operator===c||(!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===c&&o(e,h.semver))return!1}return!0};var no=Mg;const Tg=no,Lg=(e,t,r)=>Tg(e,t,">",r);var $g=Lg;const Pg=no,Og=(e,t,r)=>Pg(e,t,"<",r);var xg=Og;const Ua=Te(),Bg=(e,t,r)=>(e=new Ua(e,r),t=new Ua(t,r),e.intersects(t,r));var Fg=Bg;const jg=Bn,Dg=Me;var Hg=(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort((d,u)=>Dg(d,u,r));for(const d of o)jg(d,t,r)?(i=d,s||(s=d)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const a=[];for(const[d,u]of n)d===u?a.push(d):!u&&d===o[0]?a.push("*"):u?d===o[0]?a.push(`<=${u}`):a.push(`${d} - ${u}`):a.push(`>=${d}`);const c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t};const Va=Te(),so=xn(),{ANY:ai}=so,Yt=Bn,io=Me,Ug=(e,t,r={})=>{if(e===t)return!0;e=new Va(e,r),t=new Va(t,r);let n=!1;e:for(const s of e.set){for(const i of t.set){const o=Wg(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Vg=[new so(">=0.0.0-0")],Wa=[new so(">=0.0.0")],Wg=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===ai){if(t.length===1&&t[0].semver===ai)return!0;r.includePrerelease?e=Vg:e=Wa}if(t.length===1&&t[0].semver===ai){if(r.includePrerelease)return!0;t=Wa}const n=new Set;let s,i;for(const f of e)f.operator===">"||f.operator===">="?s=za(s,f,r):f.operator==="<"||f.operator==="<="?i=qa(i,f,r):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=io(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const f of n){if(s&&!Yt(f,String(s),r)||i&&!Yt(f,String(i),r))return null;for(const g of t)if(!Yt(f,String(g),r))return!1;return!0}let a,c,l,d,u=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;u&&u.prerelease.length===1&&i.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(const f of t){if(d=d||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(h&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===h.major&&f.semver.minor===h.minor&&f.semver.patch===h.patch&&(h=!1),f.operator===">"||f.operator===">="){if(a=za(s,f,r),a===f&&a!==s)return!1}else if(s.operator===">="&&!Yt(s.semver,String(f),r))return!1}if(i){if(u&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===u.major&&f.semver.minor===u.minor&&f.semver.patch===u.patch&&(u=!1),f.operator==="<"||f.operator==="<="){if(c=qa(i,f,r),c===f&&c!==i)return!1}else if(i.operator==="<="&&!Yt(i.semver,String(f),r))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&d&&!s&&o!==0||h||u)},za=(e,t,r)=>{if(!e)return t;const n=io(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},qa=(e,t,r)=>{if(!e)return t;const n=io(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var zg=Ug;const ci=Ar,Ja=$n,qg=pe,Ga=Vl,Jg=Qt,Gg=J0,Zg=Q0,Qg=X0,Kg=e1,Xg=n1,Yg=o1,ep=l1,tp=h1,rp=Me,np=m1,sp=y1,ip=Yi,op=S1,ap=R1,cp=On,lp=eo,up=Wl,dp=zl,hp=to,fp=ro,gp=ql,pp=Z1,mp=xn(),_p=Te(),bp=Bn,yp=lg,vp=fg,wp=_g,Ep=vg,Sp=Sg,Cp=no,kp=$g,Rp=xg,Ip=Fg,Ap=Hg,Np=zg;var Mp={parse:Jg,valid:Gg,clean:Zg,inc:Qg,diff:Kg,major:Xg,minor:Yg,patch:ep,prerelease:tp,compare:rp,rcompare:np,compareLoose:sp,compareBuild:ip,sort:op,rsort:ap,gt:cp,lt:lp,eq:up,neq:dp,gte:hp,lte:fp,cmp:gp,coerce:pp,Comparator:mp,Range:_p,satisfies:bp,toComparators:yp,maxSatisfying:vp,minSatisfying:wp,minVersion:Ep,validRange:Sp,outside:Cp,gtr:kp,ltr:Rp,intersects:Ip,simplifyRange:Ap,subset:Np,SemVer:qg,re:ci.re,src:ci.src,tokens:ci.t,SEMVER_SPEC_VERSION:Ja.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ja.RELEASE_TYPES,compareIdentifiers:Ga.compareIdentifiers,rcompareIdentifiers:Ga.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=Mp,r=vt,n=le;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",u=>(0,t.valid)(u)===null?`Expected SemVer version, got "${u}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",u=>(0,t.validRange)(u)===null?`Expected SemVer range, got "${u}"`:!0);function s(u){return(0,r.is)(u,e.VersionStruct)}e.isValidSemVerVersion=s;function i(u){return(0,r.is)(u,e.VersionRangeStruct)}e.isValidSemVerRange=i;function o(u){(0,n.assertStruct)(u,e.VersionStruct)}e.assertIsSemVerVersion=o;function a(u){(0,n.assertStruct)(u,e.VersionRangeStruct)}e.assertIsSemVerRange=a;function c(u,h){return(0,t.gt)(u,h)}e.gtVersion=c;function l(u,h){return(0,t.gtr)(u,h)}e.gtRange=l;function d(u,h){return(0,t.satisfies)(u,h,{includePrerelease:!0})}e.satisfiesVersionRange=d})(Dl);(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(le,e),r(Rr,e),r(j,e),r(Tn,e),r(je,e),r(Dt,e),r($l,e),r(Ir,e),r(Pl,e),r(Ol,e),r(Ht,e),r(xl,e),r(De,e),r(Bl,e),r(Fl,e),r(jl,e),r(Dl,e)})(gl);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=gl;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")})(fl);var Zl=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.PollingBlockTracker=void 0;const Tp=Zl(Vi),Lp=Zl(Zh),$p=Er,Za=fl,Qa=(0,Za.createModuleLogger)(Za.projectLogger,"polling-block-tracker"),Pp=(0,Tp.default)(),Op=1e3;class xp extends $p.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},t),{blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval})),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*Op,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();const r=Ka(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{console.error(n)}const s=Ka(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await s}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:Pp(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),Qa("Making request",t);const r=await(0,Lp.default)(n=>this._provider.sendAsync(t,n))();if(Qa("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Nn.PollingBlockTracker=xp;function Ka(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var Fn={},Bp=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.SubscribeBlockTracker=void 0;const Fp=Bp(Vi),jp=Er,Dp=(0,Fp.default)();class Hp extends jp.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,s)=>{this._provider.sendAsync({id:Dp(),method:t,params:r,jsonrpc:"2.0"},(i,o)=>{i?s(i):n(o.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Fn.SubscribeBlockTracker=Hp;(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Nn,e),r(Fn,e)})(hl);var oo={},jn={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getUniqueId=void 0;const Ql=4294967295;let li=Math.floor(Math.random()*Ql);function Up(){return li=(li+1)%Ql,li}Nr.getUniqueId=Up;Object.defineProperty(jn,"__esModule",{value:!0});jn.createIdRemapMiddleware=void 0;const Vp=Nr;function Wp(){return(e,t,r,n)=>{const s=e.id,i=Vp.getUniqueId();e.id=i,t.id=i,r(o=>{e.id=s,t.id=s,o()})}}jn.createIdRemapMiddleware=Wp;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.createAsyncMiddleware=void 0;function zp(e){return async(t,r,n,s)=>{let i;const o=new Promise(d=>{i=d});let a=null,c=!1;const l=async()=>{c=!0,n(d=>{a=d,i()}),await o};try{await e(t,r,l),c?(await o,a(null)):s(null)}catch(d){a?a(d):s(d)}}}Dn.createAsyncMiddleware=zp;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.createScaffoldMiddleware=void 0;function qp(e){return(t,r,n,s)=>{const i=e[t.method];return i===void 0?n():typeof i=="function"?i(t,r,n,s):(r.result=i,s())}}Hn.createScaffoldMiddleware=qp;var Mr={},ao={};Object.defineProperty(ao,"__esModule",{value:!0});const Jp=hc;function Xa(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function Gp(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let Zp=class extends Jp.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")Xa(i,this,r);else{const o=i.length,a=Gp(i);for(let c=0;c<o;c+=1)Xa(a[c],this,r)}return!0}};ao.default=Zp;var Kl={},Ye={},Qp=lr;lr.default=lr;lr.stable=eu;lr.stableStringify=eu;var Yr="[...]",Xl="[Circular]",mt=[],dt=[];function Yl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function lr(e,t,r,n){typeof n>"u"&&(n=Yl()),ki(e,"",0,[],void 0,0,n);var s;try{dt.length===0?s=JSON.stringify(e,t,r):s=JSON.stringify(e,tu(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;mt.length!==0;){var i=mt.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function Pt(e,t,r,n){var s=Object.getOwnPropertyDescriptor(n,r);s.get!==void 0?s.configurable?(Object.defineProperty(n,r,{value:e}),mt.push([n,r,t,s])):dt.push([t,r,e]):(n[r]=e,mt.push([n,r,t]))}function ki(e,t,r,n,s,i,o){i+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){Pt(Xl,e,t,s);return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){Pt(Yr,e,t,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Pt(Yr,e,t,s);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)ki(e[a],a,a,n,e,i,o);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var l=c[a];ki(e[l],l,a,n,e,i,o)}}n.pop()}}function Kp(e,t){return e<t?-1:e>t?1:0}function eu(e,t,r,n){typeof n>"u"&&(n=Yl());var s=Ri(e,"",0,[],void 0,0,n)||e,i;try{dt.length===0?i=JSON.stringify(s,t,r):i=JSON.stringify(s,tu(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;mt.length!==0;){var o=mt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Ri(e,t,r,n,s,i,o){i+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){Pt(Xl,e,t,s);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){Pt(Yr,e,t,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Pt(Yr,e,t,s);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Ri(e[a],a,a,n,e,i,o);else{var c={},l=Object.keys(e).sort(Kp);for(a=0;a<l.length;a++){var d=l[a];Ri(e[d],d,a,n,e,i,o),c[d]=e[d]}if(typeof s<"u")mt.push([s,t,e]),s[t]=c;else return c}n.pop()}}function tu(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(dt.length>0)for(var n=0;n<dt.length;n++){var s=dt[n];if(s[1]===t&&s[0]===r){r=s[2],dt.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(Ye,"__esModule",{value:!0});Ye.EthereumProviderError=Ye.EthereumRpcError=void 0;const Xp=Qp;class ru extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Xp.default(this.serialize(),tm,2)}}Ye.EthereumRpcError=ru;class Yp extends ru{constructor(t,r,n){if(!em(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}Ye.EthereumProviderError=Yp;function em(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function tm(e,t){if(t!=="[Circular]")return t}var co={},et={};Object.defineProperty(et,"__esModule",{value:!0});et.errorValues=et.errorCodes=void 0;et.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};et.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=et,r=Ye,n=t.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",i={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,f=s){if(Number.isInteger(h)){const g=h.toString();if(u(t.errorValues,g))return t.errorValues[g].message;if(l(h))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return f}e.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const f=h.toString();return!!(t.errorValues[f]||l(h))}e.isValidCode=a;function c(h,{fallbackError:f=i,shouldIncludeStack:g=!1}={}){var v,m;if(!f||!Number.isInteger(f.code)||typeof f.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const b={};if(h&&typeof h=="object"&&!Array.isArray(h)&&u(h,"code")&&a(h.code)){const _=h;b.code=_.code,_.message&&typeof _.message=="string"?(b.message=_.message,u(_,"data")&&(b.data=_.data)):(b.message=o(b.code),b.data={originalError:d(h)})}else{b.code=f.code;const _=(v=h)===null||v===void 0?void 0:v.message;b.message=_&&typeof _=="string"?_:f.message,b.data={originalError:d(h)}}const p=(m=h)===null||m===void 0?void 0:m.stack;return g&&h&&p&&typeof p=="string"&&(b.stack=p),b}e.serializeError=c;function l(h){return h>=-32099&&h<=-32e3}function d(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function u(h,f){return Object.prototype.hasOwnProperty.call(h,f)}})(co);var Un={};Object.defineProperty(Un,"__esModule",{value:!0});Un.ethErrors=void 0;const lo=Ye,nu=co,de=et;Un.ethErrors={rpc:{parse:e=>Ee(de.errorCodes.rpc.parse,e),invalidRequest:e=>Ee(de.errorCodes.rpc.invalidRequest,e),invalidParams:e=>Ee(de.errorCodes.rpc.invalidParams,e),methodNotFound:e=>Ee(de.errorCodes.rpc.methodNotFound,e),internal:e=>Ee(de.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ee(t,e)},invalidInput:e=>Ee(de.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>Ee(de.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Ee(de.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Ee(de.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Ee(de.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Ee(de.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>er(de.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>er(de.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>er(de.errorCodes.provider.unsupportedMethod,e),disconnected:e=>er(de.errorCodes.provider.disconnected,e),chainDisconnected:e=>er(de.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new lo.EthereumProviderError(t,r,n)}}};function Ee(e,t){const[r,n]=su(t);return new lo.EthereumRpcError(e,r||nu.getMessageFromCode(e),n)}function er(e,t){const[r,n]=su(t);return new lo.EthereumProviderError(e,r||nu.getMessageFromCode(e),n)}function su(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Ye;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=co;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Un;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const s=et;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})})(Kl);var rm=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.JsonRpcEngine=void 0;const nm=rm(ao),Se=Kl;class Ue extends nm.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,s)=>{try{const[i,o,a]=await Ue._runAllMiddleware(t,r,this._middleware);return o?(await Ue._runReturnHandlers(a),s(i)):n(async c=>{try{await Ue._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(i){return s(i)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,s)=>{r(s)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const o=new Se.EthereumRpcError(Se.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){const o=new Se.EthereumRpcError(Se.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(o,{id:t.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},t),s={id:n.id,jsonrpc:n.jsonrpc};let i=null;try{await this._processRequest(n,s)}catch(o){i=o}return i&&(delete s.result,s.error||(s.error=Se.serializeError(i))),r(i,s)}async _processRequest(t,r){const[n,s,i]=await Ue._runAllMiddleware(t,r,this._middleware);if(Ue._checkForCompletion(t,r,s),await Ue._runReturnHandlers(i),n)throw n}static async _runAllMiddleware(t,r,n){const s=[];let i=null,o=!1;for(const a of n)if([i,o]=await Ue._runMiddleware(t,r,a,s),o)break;return[i,o,s.reverse()]}static _runMiddleware(t,r,n,s){return new Promise(i=>{const o=c=>{const l=c||r.error;l&&(r.error=Se.serializeError(l)),i([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Se.EthereumRpcError(Se.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${ui(t)}`,{request:t})),s.push(c)),i([null,!1]))};try{n(t,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,s)=>{r(i=>i?s(i):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new Se.EthereumRpcError(Se.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${ui(t)}`,{request:t});if(!n)throw new Se.EthereumRpcError(Se.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${ui(t)}`,{request:t})}}Mr.JsonRpcEngine=Ue;function ui(e){return JSON.stringify(e,null,2)}var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.mergeMiddleware=void 0;const sm=Mr;function im(e){const t=new sm.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}Vn.mergeMiddleware=im;(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(jn,e),r(Dn,e),r(Hn,e),r(Nr,e),r(Mr,e),r(Vn,e)})(oo);var iu={},uo={};const ho=Ut(du);var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});var Ya=ho,om=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(s){return t._queue.push(s)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return Ya.__awaiter(this,void 0,void 0,function(){var r,n,s;return Ya.__generator(this,function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:r=i.sent(),n=r[0],s=r[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,i.sent()];case 4:return s(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();Wn.default=om;Object.defineProperty(uo,"__esModule",{value:!0});var ec=ho,am=Wn,cm=function(){function e(){this._semaphore=new am.default(1)}return e.prototype.acquire=function(){return ec.__awaiter(this,void 0,void 0,function(){var t,r;return ec.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();uo.default=cm;var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.withTimeout=void 0;var Wr=ho;function lm(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(s,i){return Wr.__awaiter(n,void 0,void 0,function(){var o,a,c;return Wr.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,i(r)},t),[4,e.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):s(a),[2]}})})})},runExclusive:function(s){return Wr.__awaiter(this,void 0,void 0,function(){var i,o;return Wr.__generator(this,function(a){switch(a.label){case 0:i=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(i=o[1],[4,s(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return i=o,[4,s()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return i(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}zn.withTimeout=lm;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=uo;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=Wn;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=zn;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(iu);var um=hm,dm=Object.prototype.hasOwnProperty;function hm(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)dm.call(r,n)&&(e[n]=r[n])}return e}const fm=um,gm=Vi();var pm=M;function M(e){const t=this;t.currentProvider=e}M.prototype.getBalance=Tr(2,"eth_getBalance");M.prototype.getCode=Tr(2,"eth_getCode");M.prototype.getTransactionCount=Tr(2,"eth_getTransactionCount");M.prototype.getStorageAt=Tr(3,"eth_getStorageAt");M.prototype.call=Tr(2,"eth_call");M.prototype.protocolVersion=x("eth_protocolVersion");M.prototype.syncing=x("eth_syncing");M.prototype.coinbase=x("eth_coinbase");M.prototype.mining=x("eth_mining");M.prototype.hashrate=x("eth_hashrate");M.prototype.gasPrice=x("eth_gasPrice");M.prototype.accounts=x("eth_accounts");M.prototype.blockNumber=x("eth_blockNumber");M.prototype.getBlockTransactionCountByHash=x("eth_getBlockTransactionCountByHash");M.prototype.getBlockTransactionCountByNumber=x("eth_getBlockTransactionCountByNumber");M.prototype.getUncleCountByBlockHash=x("eth_getUncleCountByBlockHash");M.prototype.getUncleCountByBlockNumber=x("eth_getUncleCountByBlockNumber");M.prototype.sign=x("eth_sign");M.prototype.sendTransaction=x("eth_sendTransaction");M.prototype.sendRawTransaction=x("eth_sendRawTransaction");M.prototype.estimateGas=x("eth_estimateGas");M.prototype.getBlockByHash=x("eth_getBlockByHash");M.prototype.getBlockByNumber=x("eth_getBlockByNumber");M.prototype.getTransactionByHash=x("eth_getTransactionByHash");M.prototype.getTransactionByBlockHashAndIndex=x("eth_getTransactionByBlockHashAndIndex");M.prototype.getTransactionByBlockNumberAndIndex=x("eth_getTransactionByBlockNumberAndIndex");M.prototype.getTransactionReceipt=x("eth_getTransactionReceipt");M.prototype.getUncleByBlockHashAndIndex=x("eth_getUncleByBlockHashAndIndex");M.prototype.getUncleByBlockNumberAndIndex=x("eth_getUncleByBlockNumberAndIndex");M.prototype.getCompilers=x("eth_getCompilers");M.prototype.compileLLL=x("eth_compileLLL");M.prototype.compileSolidity=x("eth_compileSolidity");M.prototype.compileSerpent=x("eth_compileSerpent");M.prototype.newFilter=x("eth_newFilter");M.prototype.newBlockFilter=x("eth_newBlockFilter");M.prototype.newPendingTransactionFilter=x("eth_newPendingTransactionFilter");M.prototype.uninstallFilter=x("eth_uninstallFilter");M.prototype.getFilterChanges=x("eth_getFilterChanges");M.prototype.getFilterLogs=x("eth_getFilterLogs");M.prototype.getLogs=x("eth_getLogs");M.prototype.getWork=x("eth_getWork");M.prototype.submitWork=x("eth_submitWork");M.prototype.submitHashrate=x("eth_submitHashrate");M.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(mm(e),function(n,s){if(!n&&s.error&&(n=new Error("EthQuery - RPC Error - "+s.error.message)),n)return t(n);t(null,s.result)})};function x(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Tr(e,t){return function(){const r=this;var n=[].slice.call(arguments),s=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},s)}}function mm(e){return fm({id:gm(),jsonrpc:"2.0",params:[]},e)}const tc=(e,t,r,n)=>function(...s){const i=t.promiseModule;return new i((o,a)=>{t.multiArgs?s.push((...l)=>{t.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):t.errorFirst?s.push((l,d)=>{l?a(l):o(d)}):s.push(o),Reflect.apply(e,this===r?n:this,s)})},rc=new WeakMap;var _m=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(o,a)=>{let c=rc.get(o);if(c||(c={},rc.set(o,c)),a in c)return c[a];const l=g=>typeof g=="string"||typeof a=="symbol"?a===g:g.test(a),d=Reflect.getOwnPropertyDescriptor(o,a),u=d===void 0||d.writable||d.configurable,f=(t.include?t.include.some(l):!t.exclude.some(l))&&u;return c[a]=f,f},s=new WeakMap,i=new Proxy(e,{apply(o,a,c){const l=s.get(o);if(l)return Reflect.apply(l,a,c);const d=t.excludeMain?o:tc(o,t,i,o);return s.set(o,d),Reflect.apply(d,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=s.get(c);if(l)return l;if(typeof c=="function"){const d=tc(c,t,i,o);return s.set(c,d),d}return c}});return i};const bm=Sr.default;let ym=class extends bm{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}};var fo=ym;const vm=fo;let wm=class extends vm{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}};var Em=wm,Lr={minBlockRef:Sm,maxBlockRef:Cm,sortBlockRefs:go,bnToHex:km,blockRefIsNumber:Rm,hexToInt:en,incrementHexInt:Im,intToHex:ou,unsafeRandomBytes:Am};function Sm(...e){return go(e)[0]}function Cm(...e){const t=go(e);return t[t.length-1]}function go(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:en(t)-en(r))}function km(e){return"0x"+e.toString(16)}function Rm(e){return e&&!["earliest","latest","pending"].includes(e)}function en(e){return e==null?e:Number.parseInt(e,16)}function Im(e){if(e==null)return e;const t=en(e);return ou(t+1)}function ou(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function Am(e){let t="0x";for(let r=0;r<e;r++)t+=nc(),t+=nc();return t}function nc(){return Math.floor(Math.random()*16).toString(16)}const Nm=pm,Mm=_m,Tm=Em,{bnToHex:V_,hexToInt:zr,incrementHexInt:Lm,minBlockRef:$m,blockRefIsNumber:Pm}=Lr;let Om=class extends Tm{constructor({provider:t,params:r}){super(),this.type="log",this.ethQuery=new Nm(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=$m(this.params.toBlock,t),s=Object.assign({},this.params,{toBlock:n}),i=await this._fetchLogs(s);this.addInitialResults(i)}async update({oldBlock:t,newBlock:r}){const n=r;let s;t?s=Lm(t):s=r;const i=Object.assign({},this.params,{fromBlock:s,toBlock:n}),a=(await this._fetchLogs(i)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(t){return await Mm(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if(zr(this.params.fromBlock)>=zr(t.blockNumber)||Pm(this.params.toBlock)&&zr(this.params.toBlock)<=zr(t.blockNumber))return!1;const r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((s,i)=>{let o=t.topics[i];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(s)?s:[s];return a.includes(null)?!0:(a=a.map(d=>d.toLowerCase()),a.includes(o))})}};var xm=Om,po=Bm;async function Bm({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=sc(t),i=sc(r)-n+1,o=Array(i).fill().map((c,l)=>n+l).map(Fm);let a=await Promise.all(o.map(c=>Dm(e,"eth_getBlockByNumber",[c,!1])));return a=a.filter(c=>c!==null),a}function sc(e){return e==null?e:Number.parseInt(e,16)}function Fm(e){return e==null?e:"0x"+e.toString(16)}function jm(e,t){return new Promise((r,n)=>{e.sendAsync(t,(s,i)=>{s?n(s):i.error?n(i.error):i.result?r(i.result):n(new Error("Result was empty"))})})}async function Dm(e,t,r){for(let n=0;n<3;n++)try{return await jm(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(s){console.error(`provider.sendAsync failed: ${s.stack||s.message||s}`)}return null}const Hm=fo,Um=po,{incrementHexInt:Vm}=Lr;let Wm=class extends Hm{constructor({provider:t,params:r}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){const n=r,s=Vm(t),o=(await Um({provider:this.provider,fromBlock:s,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var zm=Wm;const qm=fo,Jm=po,{incrementHexInt:Gm}=Lr;let Zm=class extends qm{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const r=t,n=Gm(t),s=await Jm({provider:this.provider,fromBlock:n,toBlock:r}),i=[];for(const o of s)i.push(...o.transactions);this.addResults(i)}};var Qm=Zm;const Km=iu.Mutex,{createAsyncMiddleware:Xm,createScaffoldMiddleware:Ym}=oo,e_=xm,t_=zm,r_=Qm,{intToHex:au,hexToInt:di}=Lr;var n_=s_;function s_({blockTracker:e,provider:t}){let r=0,n={};const s=new Km,i=i_({mutex:s}),o=Ym({eth_newFilter:i(hi(c)),eth_newBlockFilter:i(hi(l)),eth_newPendingTransactionFilter:i(hi(d)),eth_uninstallFilter:i(Zr(f)),eth_getFilterChanges:i(Zr(u)),eth_getFilterLogs:i(Zr(h))}),a=async({oldBlock:p,newBlock:_})=>{if(n.length===0)return;const $=await s.acquire();try{await Promise.all(It(n).map(async w=>{try{await w.update({oldBlock:p,newBlock:_})}catch(N){console.error(N)}}))}catch(w){console.error(w)}$()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=d,o.uninstallFilter=f,o.getFilterChanges=u,o.getFilterLogs=h,o.destroy=()=>{m()},o;async function c(p){const _=new e_({provider:t,params:p});return await g(_),_}async function l(){const p=new t_({provider:t});return await g(p),p}async function d(){const p=new r_({provider:t});return await g(p),p}async function u(p){const _=di(p),$=n[_];if(!$)throw new Error(`No filter for index "${_}"`);return $.getChangesAndClear()}async function h(p){const _=di(p),$=n[_];if(!$)throw new Error(`No filter for index "${_}"`);let w=[];return $.type==="log"&&(w=$.getAllResults()),w}async function f(p){const _=di(p),w=!!n[_];return w&&await v(_),w}async function g(p){const _=It(n).length,$=await e.getLatestBlock();await p.initialize({currentBlock:$}),r++,n[r]=p,p.id=r,p.idHex=au(r);const w=It(n).length;return b({prevFilterCount:_,newFilterCount:w}),r}async function v(p){const _=It(n).length;delete n[p];const $=It(n).length;b({prevFilterCount:_,newFilterCount:$})}async function m(){const p=It(n).length;n={},b({prevFilterCount:p,newFilterCount:0})}function b({prevFilterCount:p,newFilterCount:_}){if(p===0&&_>0){e.on("sync",a);return}if(p>0&&_===0){e.removeListener("sync",a);return}}}function hi(e){return Zr(async(...t)=>{const r=await e(...t);return au(r.id)})}function Zr(e){return Xm(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function i_({mutex:e}){return t=>async(r,n,s,i)=>{(await e.acquire())(),t(r,n,s,i)}}function It(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const o_=Sr.default,{createAsyncMiddleware:ic,createScaffoldMiddleware:a_}=oo,c_=n_,{unsafeRandomBytes:l_,incrementHexInt:u_}=Lr,d_=po;var h_=f_;function f_({blockTracker:e,provider:t}){const r={},n=c_({blockTracker:e,provider:t});let s=!1;const i=new o_,o=a_({eth_subscribe:ic(a),eth_unsubscribe:ic(c)});return o.destroy=d,{events:i,middleware:o};async function a(u,h){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const f=u.params[0],g=l_(16);let v;switch(f){case"newHeads":v=m({subId:g});break;case"logs":const p=u.params[1],_=await n.newLogFilter(p);v=b({subId:g,filter:_});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${f}"`)}r[g]=v,h.result=g;return;function m({subId:p}){const _={type:f,destroy:async()=>{e.removeListener("sync",_.update)},update:async({oldBlock:$,newBlock:w})=>{const N=w,U=u_($);(await d_({provider:t,fromBlock:U,toBlock:N})).map(g_).filter(z=>z!==null).forEach(z=>{l(p,z)})}};return e.on("sync",_.update),_}function b({subId:p,filter:_}){return _.on("update",w=>l(p,w)),{type:f,destroy:async()=>await n.uninstallFilter(_.idHex)}}}async function c(u,h){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const f=u.params[0],g=r[f];if(!g){h.result=!1;return}delete r[f],await g.destroy(),h.result=!0}function l(u,h){i.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:u,result:h}})}function d(){i.removeAllListeners();for(const u in r)r[u].destroy(),delete r[u];s=!0}}function g_(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(An,"__esModule",{value:!0});An.SubscriptionManager=void 0;const p_=hl,m_=h_,oc=()=>{};class __{constructor(t){const r=new p_.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:s}=m_({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=s}async handleRequest(t){const r={};return await this.subscriptionMiddleware(t,r,oc,oc),r}destroy(){this.subscriptionMiddleware.destroy()}}An.SubscriptionManager=__;var cu=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.CoinbaseWalletProvider=void 0;const b_=cu(tn),y_=Wu,B=ur,P=S,v_=gr,ac=Ce,qr=qt,be=Vt,fi=cu(Wh),tr=zt,w_=jt,E_=An,cc="DefaultChainId",lc="DefaultJsonRpcUrl";class S_ extends y_.EventEmitter{constructor(t){var r,n;super(),this._filterPolyfill=new w_.FilterPolyfill(this),this._subscriptionManager=new E_.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl;const s=this.getChainId(),i=(0,P.prepend0x)(s.toString(16));this.emit("connect",{chainIdStr:i});const o=this._storage.getItem(ac.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,P.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"&&a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,d=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(d,Number(l))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,P.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(lc))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(lc,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(cc,r.toString(10)),((0,P.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,s,i,o){const c=await(await this.initializeRelay()).watchAsset(t,r,n,s,i,o==null?void 0:o.toString()).promise;return(0,be.isErrorResponse)(c)?!1:!!c.result}async addEthereumChain(t,r,n,s,i,o){var a,c;if((0,P.ensureIntNumber)(t)===this.getChainId())return!1;const l=await this.initializeRelay(),d=l.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!d&&await l.requestEthereumAccounts().promise;const u=await l.addEthereumChain(t.toString(),r,i,n,s,o).promise;return(0,be.isErrorResponse)(u)?!1:(((a=u.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],t),((c=u.result)===null||c===void 0?void 0:c.isApproved)===!0)}async switchEthereumChain(t){const n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if((0,be.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===B.standardErrorCodes.provider.unsupportedChain?B.standardErrors.provider.unsupportedChain():B.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const s=n.result;s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(tr.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?qr.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){try{const n=this._send(t,r);if(n instanceof Promise)return n.catch(s=>{throw(0,B.serializeError)(s,t)})}catch(n){throw(0,B.serializeError)(n,t)}}_send(t,r){if(typeof t=="string"){const s=t,i=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:s,params:i};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const s=t,i=r;return this._sendAsync(s,i)}if(Array.isArray(t))return t.map(i=>this._sendRequest(i));const n=t;return this._sendRequest(n)}async sendAsync(t,r){try{return this._sendAsync(t,r).catch(n=>{throw(0,B.serializeError)(n,t)})}catch(n){return Promise.reject((0,B.serializeError)(n,t))}}async _sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){const s=r;this._sendMultipleRequestsAsync(t).then(i=>s(null,i)).catch(i=>s(i,null));return}const n=r;return this._sendRequestAsync(t).then(s=>n(null,s)).catch(s=>n(s,null))}async request(t){try{return this._request(t).catch(r=>{throw(0,B.serializeError)(r,t.method)})}catch(r){return Promise.reject((0,B.serializeError)(r,t.method))}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw B.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw B.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw B.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const s=n===void 0?[]:n,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:s,jsonrpc:"2.0",id:i})).result}async scanQRCode(t){const n=await(await this.initializeRelay()).scanQRCode((0,P.ensureRegExpString)(t)).promise;if((0,be.isErrorResponse)(n))throw(0,B.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,B.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(t,r){const s=await(await this.initializeRelay()).genericRequest(t,r).promise;if((0,be.isErrorResponse)(s))throw(0,B.serializeError)(s.errorMessage,"generic");if(typeof s.result!="string")throw(0,B.serializeError)("result was not a string","generic");return s.result}async connectAndSignIn(t){var r;(r=this.diagnostic)===null||r===void 0||r.log(tr.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?qr.Session.hash(this._relay.session.id):void 0});let n;try{const i=await this.initializeRelay();if(!(i instanceof v_.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await i.connectAndSignIn(t).promise,(0,be.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied account authorization"):i}if(!n.result)throw new Error("accounts received is empty");const{accounts:s}=n.result;return this._setAddresses(s),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(t){const n=await(await this.initializeRelay()).selectProvider(t).promise;if((0,be.isErrorResponse)(n))throw(0,B.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,B.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");const n=t.map(s=>(0,P.ensureAddressString)(s));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(ac.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const s=this._handleSynchronousMethods(t);if(s!==void 0)return r({jsonrpc:"2.0",id:t.id,result:s});const i=this._handleAsynchronousFilterMethods(t);if(i!==void 0){i.then(a=>r(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(t);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:t.id,result:a.result})).catch(a=>n(a));return}}catch(s){return n(s)}this._handleAsynchronousMethods(t).then(s=>s&&r(Object.assign(Object.assign({},s),{id:t.id}))).catch(s=>n(s))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(i=>{var o;throw(i.code===B.standardErrorCodes.rpc.methodNotFound||i.code===B.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(tr.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:this._relay?qr.Session.hash(this._relay.session.id):void 0})),i})}_handleAsynchronousFilterMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const r=(0,P.ensureAddressString)(t);return this._addresses.map(s=>(0,P.ensureAddressString)(s)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(tr.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,P.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,P.ensureAddressString)(t.to):null,s=t.value!=null?(0,P.ensureBN)(t.value):new b_.default(0),i=t.data?(0,P.ensureBuffer)(t.data):L.Buffer.alloc(0),o=t.nonce!=null?(0,P.ensureIntNumber)(t.nonce):null,a=t.gasPrice!=null?(0,P.ensureBN)(t.gasPrice):null,c=t.maxFeePerGas!=null?(0,P.ensureBN)(t.maxFeePerGas):null,l=t.maxPriorityFeePerGas!=null?(0,P.ensureBN)(t.maxPriorityFeePerGas):null,d=t.gas!=null?(0,P.ensureBN)(t.gas):null,u=t.chainId?(0,P.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:s,data:i,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:d,chainId:u}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw B.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw B.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,s){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(t,r,n,s).promise;if((0,be.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied message signature"):i}}async _ethereumAddressFromSignedMessage(t,r,n){const i=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise;if((0,be.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,P.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(cc);if(!t)return(0,P.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(t,10);return(0,P.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(tr.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?qr.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,be.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,P.ensureAddressString)(t[0]),n=(0,P.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,P.ensureBuffer)(t[0]),n=(0,P.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,P.ensureBuffer)(t[0]),n=(0,P.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,P.ensureBuffer)(t[0]),n=(0,P.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,be.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,P.ensureBuffer)(t[0]),s=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,be.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,be.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,P.ensureParsedJSONObject)(t[0]),n=(0,P.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const s=fi.default.hashForSignTypedDataLegacy({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(s,n,!1,i)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,P.ensureAddressString)(t[0]),n=(0,P.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=fi.default.hashForSignTypedData_v3({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,P.ensureAddressString)(t[0]),n=(0,P.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=fi.default.hashForSignTypedData_v4({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _cbwallet_arbitrary(t){const r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,s,i;const o=t[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw B.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw B.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(s=o.blockExplorerUrls)!==null&&s!==void 0?s:[],o.chainName,(i=o.iconUrls)!==null&&i!==void 0?i:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw B.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw B.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw B.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw B.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:s,symbol:i,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,s,i,a,o,n)}}_eth_uninstallFilter(t){const r=(0,P.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){const r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const r=(0,P.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){const r=(0,P.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}Ot.CoinbaseWalletProvider=S_;var qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.RelayEventManager=void 0;const C_=S;class k_{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,C_.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}qn.RelayEventManager=k_;Object.defineProperty(or,"__esModule",{value:!0});or.CoinbaseWalletSDK=void 0;const R_=rn,I_=nn,uc=S,A_=ln,N_=Ot,M_=gr,T_=wr,L_=qn,$_=mr,P_=pr,lu=Wt;class Jn{constructor(t){var r,n,s;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const i=t.linkAPIUrl||I_.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(s=t.reloadOnDisconnect)!==null&&s!==void 0?s:!0;const o=new URL(i),a=`${o.protocol}//${o.host}`;if(this._storage=new A_.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",Jn.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new L_.RelayEventManager;const c=(0,uc.isMobileWeb)(),l=t.uiConstructor||(u=>c?new T_.MobileRelayUI(u):new $_.WalletLinkRelayUI(u)),d={linkAPIUrl:i,version:lu.LIB_VERSION,darkMode:!!t.darkMode,headlessMode:!!t.headlessMode,uiConstructor:l,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=c?new M_.MobileRelay(d):new P_.WalletLinkRelay(d),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const s=this.coinbaseBrowser;if(s)return s;const i=this._relay;if(!i||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||i.setConnectDisabled(!0),new N_.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(i),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,uc.getFavicon)();const s=this.walletExtension;s?this.isCipherProvider(s)||s.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,R_.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{const n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}or.CoinbaseWalletSDK=Jn;Jn.VERSION=lu.LIB_VERSION;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=or,r=Ot;var n=or;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var s=Ot;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return s.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Ii);const O_=hu(Ii),J_=fu({__proto__:null,default:O_},[Ii]);export{J_ as i};
